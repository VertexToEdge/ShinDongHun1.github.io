---
title:  "ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ AWSë¡œ í˜¼ì êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤"
excerpt: "ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ AWSë¡œ í˜¼ì êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ 1"
date:   2021-11-19 01:16:00 
header:
  teaser: /assets/images/spring.png

categories: purpleBook
tags:
  - Java
  - Spring
last_modified_at: 2021-11-19T01:16:00




---

<br/>

<br/>

## ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ AWSë¡œ í˜¼ì êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ ë”°ë¼í•˜ê¸°

ìµœê·¼ ì›¹ í”„ë¡œê·¸ë˜ë° ëŒ€íšŒì— ë‚˜ê°€ë©´ì„œ, ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ê²ƒ ê¹Œì§€ëŠ” ì–´ëŠì •ë„ í•  ìˆ˜ ìˆì—ˆìœ¼ë‚˜, AWSë¥¼ ì‚¬ìš©í•˜ì„œ ì„œë²„ë¥¼ ë°°í¬í•˜ëŠ” ë¶€ë¶„ì´ë¼ë˜ì§€, OAuthë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸ì„ í•˜ëŠ” ë¶€ë¶„(ì´ë¶€ë¶„ì€ ì–´ì°Œì–´ì°Œ êµ¬í˜„ì„ í•˜ê¸´ í–ˆì§€ë§Œ ê±°ì˜ ì½”ë“œë¥¼ ë³µë¶™í•˜ëŠ” ìˆ˜ì¤€..)ì—ì„œ ë§‰í˜€ì„œ ë„ˆë¬´ í˜ë“¤ì—ˆì—ˆê³ , ê·¸ëŸ´ ë•Œë§ˆë‹¤ ì´ ì±…ì„ ì‚¬ìš©í•´ì„œ êµ¬í˜„ëœ ì½”ë“œë¥¼ ë³´ê³  ë² ê»´ì™”ì—ˆë‹¤. ê·¸ëŸ¼ì—ë„ ì •í™•íˆ ëª¨ë“  ë‚´ìš©ì´ ë‹´ê²¨ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë‚˜ì˜ ì½”ë“œì— ì ì ˆíˆ ë…¹ì—¬ë‚´ì§€ ëª»í•˜ì˜€ê³ , ì‹œê°„ì´ ë„ˆë¬´ ì´‰ë°•í•´ì„œ ê²°êµ­ ì„œë²„ë¥¼ ë°°í¬í•˜ì§€ ëª»í•˜ê³  ì§‘ì—ì„œ ì»´í“¨í„°ë¥¼ ë„ì§€ ì•Šê³  í‰ê°€ê°€ ëë‚ ë•Œê¹Œì§€ ëŒë ¤ë‘ì—ˆë‹¤ëŠ”..... ã…ã…...

ì•„ë¬´íŠ¼ ê·¸ë˜ì„œ ëŒ€íšŒë„ ëë‚¬ê² ë‹¤, ì´ë²ˆ ê¸°íšŒì— ì„œë²„ ë°°í¬ì™€ ë”ë¶ˆì–´, ë¬´ì¤‘ë‹¨ ë°°í¬ í™˜ê²½ë„ êµ¬ì¶•í•´ë³´ê³  ì‹¶ì—ˆê¸°ì— í‰ì†Œ ëˆˆì— ìì£¼ ë„ì—ˆë˜ ì´ ì±…ì„ ì‚¬ì„œ ê³µë¶€í•´ ë³´ë ¤ê³  í•œë‹¤. 

ì„œë¡ ì€ ì—¬ê¸°ê¹Œì§€ í•˜ê³ , ì´ì œ ì‹œì‘í•´ë³´ì.

<br/>

<br/>

## í”„ë¡œì íŠ¸ ìƒì„±í•˜ê¸°

[https://start.spring.io/](https://start.spring.io/) ì´ê³³ìœ¼ë¡œ ì´ë™í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•´ì£¼ì. 

##### ArtifactëŠ” í”„ë¡œì íŠ¸ì˜ ì´ë¦„ì´ë‹ˆ ë§ˆìŒì— ë“œëŠ” ì´ë¦„ìœ¼ë¡œ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤.



![image-20211119222419889](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119222419889.png)

<br/>

GENERATE ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì••ì¶•íŒŒì¼ì´ ë‹¤ìš´ë°›ì•„ ì§ˆ ê²ƒì¸ë°, ì´ê²ƒì„ ì›í•˜ëŠ” í´ë”ì— ì••ì¶•í•´ì œë¥¼ ì‹œì¼œì£¼ì.

<br/>

![image-20211119222624048](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119222624048.png)

##### build.gradle íŒŒì¼ì„ ìš°í´ë¦­í•˜ì—¬ ì¸í…”ë¦¬ì œì´ë¡œ ì‹¤í–‰ì‹œì¼œì£¼ì

<br/>

ì•„ë§ˆ ì•Œì•„ì„œ ë‹¤ ì„¤ì •í•´ì£¼ê¸° ë•Œë¬¸ì—, ì—¬ê¸°ê¹Œì§€ ì˜¤ë¥˜ëŠ” ì—†ì—ˆì„ ê²ƒì´ë¼ ìƒê°í•œë‹¤. ì´ì œ ê¹ƒí—ˆë¸Œì™€ ì—°ë™í•´ë³´ì.

<br/>

<br/>

## ê¹ƒí—ˆë¸Œì™€ ì—°ë™í•˜ê¸°

ìœˆë„ìš°ì—ì„œëŠ Ctrl + Shift + A , ë§¥ì—ì„œëŠ” Command + Shift + Aë¥¼ ì‚¬ìš©í•´ì„œ Action ê²€ìƒ‰ì°½ì„ ì—´ì–´ share project on githubë¥¼ ê²€ìƒ‰í•˜ì.

![image-20211119222937036](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119222937036.png)

Add account ë¥¼ ëˆŒëŸ¬ Log in via GitHubë¥¼ í´ë¦­ í›„ ë¡œê·¸ì¸í•´ì£¼ì, ê¹ƒí—ˆë¸Œ ì•„ì´ë””ê°€ ì—†ë‹¤ë©´ íšŒì›ê°€ì…ì„ ì§„í–‰í•´ì£¼ê³ , ëª¨ë“  ì¸ì¦ì´ ëë‚¬ë‹¤ë©´ Shareì„ ëˆŒëŸ¬ì£¼ë©´ ëœë‹¤.

<br/>

![image-20211119223120487](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119223120487.png)

ì±…ì—ëŠ” ì„¤ëª…ì´ ì—†ëŠ”ë°, ì´ëŸ¬í•œ ê²ƒë“¤ì„ ì»¤ë°‹í•  ê²ƒì¸ì§€ ë¬»ëŠ” ê²ƒ ê°™ë‹¤. Add í•´ì£¼ì.

ë‹¤ìŒìœ¼ë¡œ ìì‹ ì˜ ê¹ƒí—ˆë¸Œ ê³„ì •ì„ ë“¤ì–´ê°€ repositoruesì— ë“¤ì–´ê°€ë³´ë©´

![image-20211119223253756](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119223253756.png)

ë‹¤ìŒê³¼ ê°™ì´ í‘¸ì‹œê°€ ì§„í–‰ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤!

<br/>

<br/>

<br/>

## ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì

### TDD ì™€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

TDDì™€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ ì´ì•¼ê¸°ì´ë‹¤.

TDDëŠ” í…ŒìŠ¤íŠ¸ê°€ ì£¼ë„í•˜ëŠ” ê°œë°œì´ë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ëŠ” ê²ƒë¶€í„° ì‹œì‘ì´ë‹¤.

<br/>

##### ë ˆë“œ ê·¸ë¦° ì‚¬ì´í´ 

- í•­ìƒ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•˜ê³ (Red)
- í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ëŠ” í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ (Green)
- í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ë©´ í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•œë‹¤.

<br/>

ë°˜ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” TDDì˜ ì²« ë²ˆì§¸ ë‹¨ê³„ì¸ ê¸°ëŠ¥ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì„ ì´ì•¼ê¸°í•œë‹¤.

TDDì™€ ë‹¬ë¦¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê¼­ ë¨¼ì € ì‘ì„±í•´ì•¼ í•˜ëŠ”ê²ƒë„ ì•„ë‹ˆê³ , ë¦¬íŒ©í† ë§ë„ í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤. ìˆœìˆ˜í•˜ê²Œ í…ŒìŠ¤íŠ¸ì½”ë“œë§Œ ì‘ì„±í•˜ëŠ” ê²ƒì„ ì´ì•¼ê¸°í•œë‹¤.

ì—¬ê¸°ì„œëŠ” TDDê°€ ì•„ë‹Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë°°ìš´ë‹¤. 

> TDDë¥¼ ì¢€ ë” ì•Œê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒ ë§í¬ë¥¼ ì°¸ê³ í•˜ì
>
> [ì±„ìˆ˜ì›, TTD ì‹¤ì²œë²•ê³¼ ë„êµ¬](https://repo.yona.io/doortts/blog/issue/1)
>
> [TDD(Test-Driven Development) ì—°ìŠµí•´ë³´ê¸° - ì˜ˆì œ 1: Money (1) 1~8ì¥](https://hororolol.tistory.com/518)
>
> ë“±ë“± êµ¬ê¸€ ì°¸ê³ ..

<br/>

## ì»¨íŠ¸ë¡¤ëŸ¬ ë§Œë“¤ê¸°

##### build.gradleì— ì¶”ê°€.

ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼ ì¶”ê°€í•´ì£¼ì. 

```properties
implementation 'org.springframework.boot:spring-boot-starter-web'
```

![image-20211119230601070](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119230601070.png)



<br/>

webì´ë€ íŒ¨í‚¤ì§€ë¥¼ ìƒˆë¡œ ìƒì„±í•œ í›„,HelloControllerë¼ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ë³´ì.

```java
package web.purplebook.web;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class HelloController {

    @GetMapping("/hello")
    public String hello(){
        return "hello";
    }
}
```

ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  í•˜ë‚˜í•˜ë‚˜ ì‚´í´ë³´ì

- @RestController : @Controller + @ResponseBody ì´ë©°, JSONì„ ë°˜í™˜í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤.
- @GetMapping :HTTP Methodì¸ Getì˜ ìš”ì²­ì„ ë°›ì„ ìˆ˜ ìˆëŠ” APIë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. "/hello"ë¡œ ë“¤ì–´ì˜¤ëŠ” Get ìš”ì²­ì— ëŒ€í•´ì„œëŠ” ìœ„ ë©”ì„œë“œê°€ ì‘ë™í•œë‹¤.



ì´ì œ ìœ„ ì½”ë“œê°€ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì.

![image-20211119225704559](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119225704559.png)

ìœˆë„ìš°ì—ì„œëŠ” Ctrl + Shift + t ëˆ„ë¥´ë©´ ë‹¤ìŒê³¼ ê°™ì´ TESTë¥¼ ìƒì„±í•˜ëŠ” ì•Œë¦¼ì´ ë‚˜ì˜¨ë‹¤.



ê¸°ë³¸ê°’ì„ ë”°ë¼ ìƒì„±í–ˆë‹¤ë©´ HelloControllerTestë¼ëŠ” í´ë˜ìŠ¤ê°€ ìƒì„±ë  ê²ƒì¸ë°, ì¼ë°˜ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ëŠ” ëŒ€ìƒ í´ë˜ìŠ¤ ì´ë¦„ì— Testë¥¼ ë¶™ì¸ë‹¤.

```java
package web.purplebook.web;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.test.context.junit.jupiter.SpringExtension;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;
import org.springframework.test.web.servlet.result.MockMvcResultMatchers;

@WebMvcTest(controllers = HelloController.class)
class HelloControllerTest {

    @Autowired
    private MockMvc mvc;

    @Test
    public void helloê°€_ë¦¬í„´ëœë‹¤() throws Exception {
        String hello = "hello";

        mvc.perform(MockMvcRequestBuilders.get("/hello"))
                .andExpect(MockMvcResultMatchers.status().isOk())
                .andExpect(MockMvcResultMatchers.content().string(hello));

    }

}
```

ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.

- ##### WebMvcTest : ì—¬ëŸ¬ ìŠ¤í”„ë§ ì–´ë…¸í…Œì´ì…˜ ì¤‘ Web(Spring MVC)ì— ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. ì„ ì–¸í•  ê²½ìš° @Controller, @ControllerAdvice ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¨ @Service, @Component, @Repositoryë“±ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì—¬ê¸°ì„œëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë§Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì„ ì–¸í•œë‹¤.

- ##### Autowired : ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ëŠ” ë¹ˆ(Bean)ì„ ì£¼ì…ë°›ëŠ”ë‹¤.

- ##### MockMvc :  ì›¹ APIë¥¼ í…ŒìŠ¤íŠ¸í•  ë•Œ ì‚¬ìš©í•œë‹¤. ì´ í´ë˜ìŠ¤ë¥¼ í†µí•´ HTTP GET , POST ë“±ì— ëŒ€í•œ API í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆë‹¤.

- ##### mvc.perform(MockMvcRequestBuilders.get("/hello")) : MockMvcë¥¼ í†µí•´ hello ì£¼ì†Œë¡œ get ìš”ì²­ì„ í•œë‹¤.

- ##### andExpect : mvc.performì˜ ê²°ê³¼ë¥¼ ê²€ì¦í•œë‹¤. HTTP headerì˜ Statusë¥¼ ê²€ì¦í•œë‹¤.

- ##### andExpect(MockMvcResultMatchers.content().string(hello)) : ì‘ë‹µ ë³¸ë¬¸ì˜ ë‚´ìš©ì„ ê²€ì¦í•œë‹¤. ìš°ë¦¬ëŠ” HelloController í´ë˜ìŠ¤ì—ì„œ "hello"ë¥¼ ë¦¬í„´í•˜ê²Œ í–ˆìŒìœ¼ë¡œ,  ì´ ê°’ì´ ë§ëŠ”ì§€ ê²€ì¦í•œë‹¤.

<br/>

<br/>

## ë¡¬ë³µ ì„¤ì¹˜í•˜ê¸°

ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¥¼build.gradle ì— ì¶”ê°€í•˜ì.

```properties
compileOnly 'org.projectlombok:lombok'
annotationProcessor 'org.projectlombok:lombok'

//í…ŒìŠ¤íŠ¸ì—ì„œ lombok ì‚¬ìš©
testCompileOnly 'org.projectlombok:lombok'
testAnnotationProcessor 'org.projectlombok:lombok'
```

![image-20211119231749564](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119231749564.png)

##### ì´í›„ Ctrl + Alt + Së¥¼ ëˆŒëŸ¬ì„œ ë‹¤ìŒê³¼ ê°™ì´ annoë¥¼ ê²€ìƒ‰í•˜ì—¬ Enable ì–´ì©Œê³ ì— ì²´í¬í•˜ì.

![image-20211119231841177](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211119231841177.png)

##### ì´ëŸ¬ë©´ ë¡¬ë³µì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤!

<br/>

<br/>

## Dto ê°œë°œí•˜ì—¬ ë¡¬ë³µ ì ìš©í•˜ê¸°

web íŒ¨í‚¤ì§€ ì•„ë˜ì— dto íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ì–´ dtoë“¤ì„ ê´€ë¦¬í•˜ì.

```java
@Getter
@RequiredArgsConstructor
public class HelloResponseDto {
    
    private final String name;
    private final int amount;
}
```

ê·¸ëŸ°ë° í•´ë‹¹ ì½”ë“œë¥¼ ì‘ì„±í•˜ë‹ˆê¹Œ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì„¸ì§€ê°€ ë–´ë‹¤. Class can be a record.

record í´ë˜ìŠ¤ì— ëŒ€í•´ ì–¸ëœ» ë“¤ì–´ë³¸ ì ì€ ìˆëŠ” ê±° ê°™ì€ë° í•œë²ˆë„ ì‚¬ìš©í•´ ë³¸ ì ì´ ì—†ì—ˆë‹¤.

ì´ë²ˆ ê¸°íšŒì— í•œë²ˆ ì‚¬ìš©í•´ ë³´ê² ë‹¤ í•˜ê³  ë°”ê¾¸ì–´ë³´ì•˜ë‹¤.

```java
public record HelloResponseDto(String name, int amount) {
}
```

ë‹¤ìŒê³¼ ê°™ì´ ë§¤ìš° ê°„ë‹¨í•˜ê²Œ í‘œí˜„ë˜ì—ˆë‹¤. 

> ëª¨ë“  recordëŠ” java.lang.Record ì„ ìƒì†ë°›ì€ í´ë˜ìŠ¤ì´ë‹¤.
> recordëŠ” final classì´ê³  ì„ ì–¸í•  ë•Œ ì ì€ ë©¤ë²„ë“¤ë„ finalì´ë‹¤.
> static ë©¤ë²„ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.
> native ë©”ì†Œë“œëŠ” ë§Œë“¤ ìˆ˜ ì—†ë‹¤.
> ì œë„¤ë¦­ ëœë‹¤.
> interfaceë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
> annotationë„ ê±¸ ìˆ˜ ìˆë‹¤.
> inner classëŠ” ì¢€ ë³µì¡í•˜ë‹¤. JDK ë²„ì „ì´ ì˜¬ë¼ê°€ë©´ ë°”ë€” ì—¬ì§€ë„ ìˆëŠ” ë“¯í•˜ë‹¤.
>
> [ì°¸ê³  - Record](https://velog.io/@gilchris/Java-Record)

<br/>

### ì»¨íŠ¸ë¡¤ëŸ¬ì— DTO ì¶”ê°€í•˜ê¸°.

```java
package web.purplebook.web;


import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import web.purplebook.web.dto.HelloResponseDto;

@RestController
public class HelloController {

    @GetMapping("/hello")
    public HelloResponseDto hello(@RequestParam("name") String name,
                                  @RequestParam("amount") int amount){
        
        return new HelloResponseDto(name , amount);
    }
    
    
    //== ì¶”ê°€ ==//
    @GetMapping("/hello/dto")
    public HelloResponseDto hello(@RequestParam("name") String name,
                                  @RequestParam("amount") int amount){

        return new HelloResponseDto(name , amount);
    }
}
```

- ##### @RequestParam : ì™¸ë¶€ì—ì„œ APIë¡œ ë„˜ê¸´ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.

- ì—¬ê¸°ì„œëŠ” ì™¸ë¶€ì—ì„œ name(@RequestParam("name"))ì´ë€ ì´ë¦„ìœ¼ë¡œ ë„˜ê¸´ íŒŒë¼ë¯¸í„°ë¥¼ String nameì— ì €ì¥í•˜ê²Œ ëœë‹¤.

ì´ì œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.



```java
package web.purplebook.web;

import org.hamcrest.Matchers;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;
import org.springframework.test.web.servlet.result.MockMvcResultMatchers;




@WebMvcTest(controllers = HelloController.class)
class HelloControllerTest {

    @Autowired
    private MockMvc mvc;

    @Test
    public void helloê°€_ë¦¬í„´ëœë‹¤() throws Exception {
        String hello = "hello";

        mvc.perform(MockMvcRequestBuilders.get("/hello"))
                .andExpect(MockMvcResultMatchers.status().isOk())
                .andExpect(MockMvcResultMatchers.content().string(hello));
    }

    @Test
    public void helloDtoê°€_ë¦¬í„´ëœë‹¤() throws Exception {
        String name = "hello";
        int amount = 1000;

        mvc.perform(
                MockMvcRequestBuilders.get("/hello/dto")
                        .param("name",name)
                        .param("amount",String.valueOf(amount)))

                        .andExpect(MockMvcResultMatchers.status().isOk())
                        .andExpect(MockMvcResultMatchers.jsonPath("$.name", Matchers.is(name)))
                        .andExpect(MockMvcResultMatchers.jsonPath("$.amount", Matchers.is(amount)));//import static org.hamcrest.Matchers.is;
    }
}
```

- ##### param : API í…ŒìŠ¤íŠ¸í•  ë•Œ ì‚¬ìš©ë  ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•œë‹¤. ë‹¨ ê°’ì€ Stringë§Œ í—ˆìš©ë˜ë©°, ìˆ«ì/ë‚ ì§œ ë“±ì˜ ë°ì´í„°ë„ ë“±ë¡í•  ë•ŒëŠ” ë¬¸ìì—´ë¡œ ë³€ê²½í•´ì•¼ë§Œ ê°€ëŠ¥í•˜ë‹¤.

- ##### jsonPath : JSON ì‘ë‹µê°’ì„ í•„ë“œë³„ë¡œ ê²€ì¦í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œì´ë‹¤. $ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•„ë“œëª…ì„ ëª…ì‹œí•œë‹¤.

<br/>

<br/>

ì ì§€ê¸ˆê¹Œì§€ Spring Web(MVC)ì™€ í…ŒìŠ¤íŠ¸ì˜ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ë“¤ì„ í…ŒìŠ¤íŠ¸ í•´ ë³´ì•˜ê³ , ë‹¤ìŒì—ëŠ” ë°ì´í„° ë² ì´ìŠ¤ë¥¼ ë‹¤ë¤„ë³´ë„ë¡ í•˜ì.



<br/>

### ğŸ“” Reference

[SpringBootì˜ MockMvcë¥¼ ì‚¬ìš©í•˜ì—¬ GET, POST ì‘ë‹µ í…ŒìŠ¤íŠ¸í•˜ê¸°](https://shinsunyoung.tistory.com/52)

[Record í´ë˜ìŠ¤](https://velog.io/@gilchris/Java-Record)

##### ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ AWSë¡œ í˜¼ì êµ¬í˜„í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ 1~77P