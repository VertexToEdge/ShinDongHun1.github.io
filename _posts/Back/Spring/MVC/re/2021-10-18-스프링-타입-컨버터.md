---
title:  "ìŠ¤í”„ë§ íƒ€ì… ì»¨ë²„í„°"
excerpt: "ìŠ¤í”„ë§ MVC ê³µë¶€í•˜ê¸°[33]"
date:   2021-10-18 21:30:00
header:
  teaser: /assets/images/spring.png

categories: MVC
tags:
  - Java
  - Spring
  - MVC
last_modified_at: 2021-10-18T21:30:00

---

<br/>

## ğŸŒŒ ìŠ¤í”„ë§ íƒ€ì… ì»¨ë²„í„°

#### ğŸ” ì»¨ë²„í„° ì¸í„°í˜ì´ìŠ¤

```java
public interface Converter<S, T> {
	T convert(S source);
} 
```

ìŠ¤í”„ë§ì€ í™•ì¥ ê°€ëŠ¥í•œ ì»¨ë²„í„° ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.

<br/>

### ğŸŒŒ íƒ€ì… ì»¨ë²„í„° - Converter

íƒ€ì… ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ org.springframework.core.convert.converter.Converter ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©´ ëœë‹¤.

#### ğŸ” ì£¼ì˜

> Converterë¼ëŠ” ì´ë¦„ì˜ ì¸í„°í˜ì´ìŠ¤ê°€ ë§ìœ¼ë‹ˆ ì¡°ì‹¬í•´ì•¼ í•œë‹¤.

<br/>

#### ğŸ” ë§Œë“¤ì–´ë³´ê¸°

<script src="https://gist.github.com/ShinDongHun1/1f009c196a13bfa2d1766a10817bb0f0.js"></script>

<br/>

#### ğŸ” IpPortToStringConverter 

<script src="https://gist.github.com/ShinDongHun1/d8fe11d35c831beed1faa7af9844197e.js"></script>

<br/>

####  ğŸ” StringToIntegerConverter 

<script src="https://gist.github.com/ShinDongHun1/b8881ee1df8cd839fbfd848b636f015e.js"></script>

<br/>

#####  ğŸ” ì°¸ê³ 

> ìŠ¤í”„ë§ì€ ìš©ë„ì— ë”°ë¼ ë‹¤ì–‘í•œ ë°©ì‹ì˜ íƒ€ì… ì»¨ë²„í„°ë¥¼ ì œê³µí•œë‹¤.
>
> Converter ê¸°ë³¸ íƒ€ì… ì»¨ë²„í„°
> ConverterFactory ì „ì²´ í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°ê°€ í•„ìš”í•  ë•Œ
> GenericConverter ì •êµí•œ êµ¬í˜„, ëŒ€ìƒ í•„ë“œì˜ ì• ë…¸í…Œì´ì…˜ ì •ë³´ ì‚¬ìš© ê°€ëŠ¥
> ConditionalGenericConverter íŠ¹ì • ì¡°ê±´ì´ ì°¸ì¸ ê²½ìš°ì—ë§Œ ì‹¤í–‰
>
> ìì„¸í•œ ë‚´ìš©ì€ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì.
> [https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#coreconvert](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#coreconvert)

<br/>

<br/>

## ğŸŒŒ ì»¨ë²„ì „ ì„œë¹„ìŠ¤ - ConversionService

##### íƒ€ì… ì»¨í„°ë²„ë¥¼ ë¬¶ì–´ì„œ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë°, ì´ê²ƒì´ ë°”ë¡œ ì»¨ë²„ì „ ì„œë¹„ìŠ¤ì´ë‹¤

<br/>

####  ğŸ” ConversionService ì¸í„°í˜ì´ìŠ¤

```java
public interface ConversionService {
    boolean canConvert(@Nullable Class<?> sourceType, Class<?> targetType);
    boolean canConvert(@Nullable TypeDescriptor sourceType, TypeDescriptor targetType);
    <T> T convert(@Nullable Object source, Class<T> targetType);
    Object convert(@Nullable Object source, @Nullable TypeDescriptor sourceType, TypeDescriptor targetType);
}
```

<br/>

####  ğŸ” ì‚¬ìš© ì˜ˆì‹œ

```java
public class ConversionServiceTest {
    @Test
    void conversionService() {
        //ë“±ë¡
        DefaultConversionService conversionService = new DefaultConversionService();
        conversionService.addConverter(new StringToIntegerConverter());
        conversionService.addConverter(new IntegerToStringConverter());
        conversionService.addConverter(new StringToIpPortConverter());
        conversionService.addConverter(new IpPortToStringConverter());
        //ì‚¬ìš©
        assertThat(conversionService.convert("10", Integer.class)).isEqualTo(10);
        assertThat(conversionService.convert(10, String.class)).isEqualTo("10");
        IpPort ipPort = conversionService.convert("127.0.0.1:8080", IpPort.class);
        assertThat(ipPort).isEqualTo(new IpPort("127.0.0.1", 8080));
        String ipPortString = conversionService.convert(new IpPort("127.0.0.1", 8080), String.class);
        assertThat(ipPortString).isEqualTo("127.0.0.1:8080");
    }
}
```

<br/>

<br/>

## ğŸŒŒ ìŠ¤í”„ë§ì— Converter ì ìš©í•˜ê¸°

<script src="https://gist.github.com/ShinDongHun1/d64ec8ad7fd834d66c990d0ee4449c85.js"></script>

##### WebMvcConfigurer ë¥¼ êµ¬í˜„í•œ í›„ addFormatters ë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ì—¬ ì‚¬ìš©í•œë‹¤.

<br/>

####  ğŸ” HelloController - ê¸°ì¡´ ì½”ë“œ

<script src="https://gist.github.com/ShinDongHun1/1b74cf41c3cc121aad8ab92d93083754.js"></script>

<br/>

##### ì‹¤í–‰

##### http://localhost:8080/hello-v2?data=10

##### ì‹¤í–‰ ë¡œê·¸

> ##### StringToIntegerConverter : convert source=10
>
> ##### data = 10

<br/>

ì‹¤í–‰í•´ë³´ë©´ ì§ì ‘ ë“±ë¡í•œ StringToIntegerConverter ê°€ ì‘ë™í•˜ëŠ” ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
ê·¸ëŸ°ë° ìƒê°í•´ë³´ë©´ StringToIntegerConverter ë¥¼ ë“±ë¡í•˜ê¸° ì „ì—ë„ ì´ ì½”ë“œëŠ” ì˜ ìˆ˜í–‰ë˜ì—ˆë‹¤.

##### ê·¸ê²ƒì€ ìŠ¤í”„ë§ì´ ë‚´ë¶€ì—ì„œ ìˆ˜ ë§ì€ ê¸°ë³¸ ì»¨ë²„í„°ë“¤ì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì»¨ë²„í„°ë¥¼ ì¶”ê°€í•˜ë©´ ì¶”ê°€í•œ ì»¨ë²„í„°ê°€ ê¸°ë³¸ ì»¨ë²„í„° ë³´ë‹¤ ë†’ì€ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§„ë‹¤.

<br/>

#### ğŸ” HelloController - ì¶”ê°€

<script src="https://gist.github.com/ShinDongHun1/9b93bd3230cd2b30e925958f8ae90d60.js"></script>

<br/>

#### ğŸ” ì²˜ë¦¬ ê³¼ì •

##### @RequestParam ì€ @RequestParam ì„ ì²˜ë¦¬í•˜ëŠ” ArgumentResolver ì¸ RequestParamMethodArgumentResolver ì—ì„œ ConversionService ë¥¼ ì‚¬ìš©í•´ì„œ íƒ€ì…ì„ ë³€í™˜í•œë‹¤. 

##### ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ë‹¤ì–‘í•œ ì™¸ë¶€ í´ë˜ìŠ¤ë¥¼ í˜¸ì¶œí•˜ëŠ” ë“± ë³µì¡í•œ ë‚´ë¶€ ê³¼ì •ì„ ê±°ì¹˜ê¸° ë•Œë¬¸ì— ëŒ€ëµ ì´ë ‡ê²Œ ì²˜ë¦¬ë˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•´ë„ ì¶©ë¶„í•˜ë‹¤. 

##### ë§Œì•½ ë” ê¹Šì´ìˆê²Œ í™•ì¸í•˜ê³  ì‹¶ìœ¼ë©´ IpPortConverter ì— ë””ë²„ê·¸ ë¸Œë ˆì´í¬ í¬ì¸íŠ¸ë¥¼ ê±¸ì–´ì„œ í™•ì¸í•´ë³´ì.

<br/>

<br/>

#### ğŸ” ìë£Œ - [ìŠ¤í”„ë§ MVC 2í¸](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-2/dashboard)

<br/>

