---
title:  "Spring 공부하기[2]"
excerpt: "DI, IoC, 컨테이너"
date:   2021-09-18 02:59:00 +0900
header:
  teaser: /assets/images/spring.png

categories: javaSpring
tags:
  - Java
  - Spring
last_modified_at: 2021-09-18T02:59:00-05:00



---

<br/>

[스프링 핵심 원리 기본편](https://www.inflearn.com/course/스프링-핵심-원리-기본편)를 보고 공부하고 정리한 내용을 올립니다

#### (10월 9일 수정)

<br/>

#### [Spring 공부하기 - 실습 [1]](https://shindonghun1.github.io/javaspring/Spring-%EA%B3%B5%EB%B6%80%ED%95%98%EA%B8%B0-%EC%8B%A4%EC%8A%B5-1/)을 보고 와주세욤!

<br/>

<br/>

## 💡 IoC, DI, 그리고 컨테이너

<br/>

### **💡** Ioc : 제어의 역전 (Inversion of Control)

#### <span style="color:Orange">프로그램의 제어 흐름</span>을 직접 제어하는 것이 아니라 <span style="color:Orange">외부에서 관리</span>하는 것을 <span style="color:Orange">제어의 역전(IoC)</span>이라 한다.

<br/>

#### **✏️** 프레임워크 vs 라이브러리

- 내가 작성한 코드를 **제어하고, 대신 실행**하면 그것은 **프레임워크**이다.
- 내가 작성한 코드가 **직접 제어의 흐름을 담당**한다면, 그것은 프레임워크가 아니라 **라이브러리**이다. 

 <br/>

 <br/>

### 💡 DI : 의존관계 주입

의존관계는 **정적인 클래스 의존관계**와, **동적인 객체 의존관계** 둘을 분리해서 생각해야 한다

 <br/>

#### **✏️** 정적인 클래스 의존관계

**import 코드만 보고 의존관계를 파악할 수 있다.**

위의 OrderServiceImpl은 DiscountPolicy에 의존한다는것을 코드만 봐도 알 수 있다.

![image-20211009205347134](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211009205347134.png)

그러나 이러한 클래스 의존관계 만으로는 어떤 DiscountPolicy 구현객체가 OrderServiceImpl에 주입될지 알 수 없다.

<br/>

<br/>

#### **✏️** 동적인 객체 인스턴스 의존 관계

- **애플리케이션 <span style="color:Orange">실행 시점</span>에 실제 <span style="color:Orange">생성된 객체 인스턴스의 참조가 연결</span>된 의존 관계** 

- **애플리케이션 <span style="color:Orange">실행 시점(런타임)</span>에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 실제 의존관계가 연결 되는 것을 <span style="color:Orange">DI(의존관계 주입)</span>라 한다** 

- **의존관계 주입을 사용**하면 정적인 클래스 의존관계를 변경하지 않고, **동적인 객체 인스턴스 의존관계를 쉽게 변경**할 수 있다.

 <br/>

 <br/>

### 💡 Ioc컨테이너, DI 컨테이너

Ioc를 해주는 컨테이너, DI를 해주는 컨테이너라 보면 된다. 

AppConfig 처럼 객체를 생성하고 관리하면서 의존관계를 연결해 주는 것을 

IoC컨테이너 또는 **DI 컨테이너**라 한다. 

 <br/>

 <br/>

## 🧾 정리

### 💡 DI - 의존관계 주입

#### 발생 조건

- **클래스 모델이나 코드상에 <span style="color:Orange">런타임 시점의 의존관계가 드러나지 않는다.</span>** 

  **=> <span style="color:Orange">인터페이스에만 의존</span>하고 있어야 한다.**

- **<span style="color:Orange">런타임 시점의 의존관계는</span> 컨테이너나 팩토리 같은 <span style="color:Orange">제3의 존재가 결정</span>한다.**

- **의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공해줌으로써 만들어진다.**

 <br/>

 **<span style="color:Orange">설계 시점에는 알지 못했던</span> 두 오브젝트의 관계를 맺도록 도와주는 <span style="color:Orange">제3의 존재</span>가 있다는 것**

**제3의 존재로 인해 클라이언트와 서버의 실제 의존관계가 연결 되는 것을 <span style="color:Orange">DI(의존관계 주입)</span>이라 한다**

 <br/>

 <br/>

### 💡IoC - 제어의 역전

**<span style="color:Orange">프로그램의 제어 흐름</span>을 직접 제어하는 것이 아니라 <span style="color:Orange">외부에서 관리</span>하는 것을 <span style="color:Orange">제어의 역전(IoC)</span>이라 한다.**

 <br/>

 <br/>

### 💡 Ioc컨테이너, DI 컨테이너

##### <span style="color:Orange">객체를 생성하고 관리(IoC)</span>하면서 <span style="color:Orange">의존관계를 연결(DI)</span>해 주는 컨테이너를 IoC컨테이너 또는 <span style="color:Orange">DI 컨테이너</span>라 한다

##### 후에 배울 <span style="color:Orange">스프링 컨테이너</span>는 <span style="color:Orange">DI컨테이너</span>이다. :D
