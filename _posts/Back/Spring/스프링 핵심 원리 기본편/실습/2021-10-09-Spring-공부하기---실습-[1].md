---
title:  "Spring κ³µλ¶€ν•κΈ° - μ‹¤μµ [1]"
excerpt: "μμ  λ§λ“¤κΈ°"
date:   2021-10-09 20:33:00 +0900
header:
  teaser: /assets/images/spring.png

categories: javaSpring
tags:
  - Java
  - Spring
last_modified_at: 2021-10-09T20:33:00-05:00


---

<br/>

<br/>

[μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ κΈ°λ³ΈνΈ](https://www.inflearn.com/course/μ¤ν”„λ§-ν•µμ‹¬-μ›λ¦¬-κΈ°λ³ΈνΈ)λ¥Ό λ³΄κ³  λ€λ¶€λ¶„ κ³µλ¶€ν•κ³  μ •λ¦¬ν• λ‚΄μ©μ„ μ¬λ¦½λ‹λ‹¤

<br/>

<br/>

### π’» ν”„λ΅μ νΈ μƒμ„±

https://start.spring.io λ΅ μ΄λ™

- ν”„λ΅μ νΈ μ„ νƒ 

  Project: Gradle Project 

  Spring Boot: (μμ–΄)κ°€ λ¶™μ–΄μμ§€ μ•μ€ κ°€μ¥ μµμ‹  λ²„μ „

  Language: Java 

  Packaging: Jar 

  Java: 11 

- Project Metadata 

  group: hello 

  artifact: core 

  Dependencies: μ„ νƒν•μ§€ μ•λ”λ‹¤.

<br/>

<br/>

### π’» μ”κµ¬μ‚¬ν•­ μ„¤κ³„ν•κΈ°

- νμ› 
  - κΈ°λ¥- κ°€μ…, μ΅°ν
  - λ“±κΈ‰ - BASIC, VIP
  - νμ› λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” λ°©μ‹μ„ μ•„μ§ κ²°μ •ν•μ§€ λ»ν•μ€λ‹¤.
- μ£Όλ¬Έ
  - νμ›μ€ μƒν’ μ£Όλ¬Έ κ°€λ¥
  - νμ› λ“±κΈ‰μ— λ”°λΌ ν• μΈμ„ μ μ©ν•  μ μλ‹¤.
  - ν• μΈ μ •μ±…μ€ λ³€κ²½ κ°€λ¥μ„±μ΄ λ†’λ‹¤.

##### <br/>

<br/>

### π’» κ°λ°ν•κΈ°

### π’΅ νμ› κΈ°λ¥ κ°λ°

#### - Grade

<script src="https://gist.github.com/ShinDongHun1/a25f68d36d4f5caa2fbb137129105d4b.js"></script>

#### <br/> - Member

<script src="https://gist.github.com/ShinDongHun1/0357fc587bf16f91a36facbdbadf3eb8.js"></script>

#### <br/>

#### <br/> - MemberRepository 

<script src="https://gist.github.com/ShinDongHun1/54f4022431e2ebbb5e95874c4e55915b.js"></script>

####  <br/>- MemoryMemberRepository

<script src="https://gist.github.com/ShinDongHun1/b0c4879d6e9ad7cb9e0662c2fefff0a5.js"></script>

#### <br/>

#### <br/>- MemberService 

<script src="https://gist.github.com/ShinDongHun1/b76bae6226a2d1bebe1977221d45c5d0.js"></script>

#### <br/>- MemberServiceImpl

<script src="https://gist.github.com/ShinDongHun1/604a41ee71b1fadb40cd823019cdbd8e.js"></script>

<br/>

<br/>

#### π’΅ νμ› κΈ°λ¥ μ„¤κ³„μ λ¬Έμ μ 

- μ €μ¥μ†λ¥Ό λ‹¤λ¥Έ μ €μ¥μ†λ΅ λ³€κ²½ν•  λ•, μ•„λ μ½”λ“λ¥Ό λ³€κ²½ν•΄ μ£Όμ–΄μ•Ό ν•λ‹¤.

  ```java
  private final MemberRepository memberRepository =
          new MemoryMemberRepository();
  ```

- ##### μ¦‰ OCPμ™€ DIP λ¨λ‘λ¥Ό μ„λ°ν•μ€λ‹¤.

<br/>

<br/>

### π’΅ μ£Όλ¬Έκ³Ό ν• μΈ κΈ°λ¥ κ°λ°

#### <br/>- DiscountPolicy

<script src="https://gist.github.com/ShinDongHun1/233969ee261259c220ca4489328cffd5.js"></script>

#### <br/>- FixDiscountPolicy

<script src="https://gist.github.com/ShinDongHun1/2f796ed4d0f350ba68673f1964ac2ed2.js"></script>
#### <br/>- Order 

<script src="https://gist.github.com/ShinDongHun1/0eafb1f6c399ff74a6895546d45edf15.js"></script>

#### <br/>- OrderService 

<script src="https://gist.github.com/ShinDongHun1/cd12dedba09e4f54e46cc807b95aa8ac.js"></script>

#### <br/>- OrderServiceImpl

<script src="https://gist.github.com/ShinDongHun1/6d7b9c7d1ca0a5a610ba6bf80ca8c118.js"></script>

<br/>

<br/>

#### π’΅ μ£Όλ¬Έ κΈ°λ¥ μ„¤κ³„μ λ¬Έμ μ 

- νμ› μ €μ¥μ†λ¥Ό λ³€κ²½ν•  λ•λ” λ¬Όλ΅ , ν• μΈ μ •μ±…μ„ λ³€κ²½ν•  λ• μ•„λ μ½”λ“λ¥Ό λ³€κ²½ν•΄ μ£Όμ–΄μ•Ό ν•λ‹¤.

  ```java
  private final DiscountPolicy discountPolicy 
  						= new FixDiscountPolicy();
  ```

- ##### μ¦‰ OCPμ™€ DIP λ¨λ‘λ¥Ό μ„λ°ν•μ€λ‹¤.

<br/>

<br/>

### π’΅ μƒλ΅μ΄ ν• μΈ μ •μ±… κ°λ°

#### <br/>- RateDiscountPolicy 

<script src="https://gist.github.com/ShinDongHun1/dbe87bb9c769473b05b776f6fa59d2a3.js"></script>

<br/>

##### μ„ μƒλ΅μ΄ ν• μΈ μ •μ±…μ„ μ½”λ“μ— μ μ©μ‹μΌλ³΄μ.

#### - OrderServiceImpl  - μƒλ΅μ΄ ν• μΈ μ •μ±… μ μ©

<script src="https://gist.github.com/ShinDongHun1/54ff144bbdc839ef5d8e3fed7bdc2a33.js"></script>

<br/>

#### λ¬Έμ μ  λ°κ²¬ 

- λ‹¤ν•μ„±λ„ ν™μ©ν•κ³ , μΈν„°νμ΄μ¤μ™€ κµ¬ν„ κ°μ²΄λ¥Ό λ¶„λ¦¬ν–λ‹¤. OK 

- DIP : μ£Όλ¬Έμ„λΉ„μ¤ ν΄λΌμ΄μ–ΈνΈ( OrderServiceImpl )λ” μ¶”μƒ(μΈν„°νμ΄μ¤) λΏλ§ μ•„λ‹λΌ κµ¬μ²΄(κµ¬ν„) ν΄λμ¤μ—λ„ μμ΅΄ν•κ³  μλ‹¤. 

  - μ¶”μƒ(μΈν„°νμ΄μ¤) μμ΅΄: DiscountPolicy 

  - κµ¬μ²΄(κµ¬ν„) ν΄λμ¤: FixDiscountPolicy , RateDiscountPolicy

- OCP : μ§€κΈ μ½”λ“λ” κΈ°λ¥μ„ ν™•μ¥ν•΄μ„ λ³€κ²½ν•λ©΄, ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μν–¥μ„ μ¤€λ‹¤! λ”°λΌμ„ OCPλ¥Ό μ„λ°ν•λ‹¤.

<br/>

#### ν•΄κ²° λ°©λ²•

- ##### μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ μ„¤κ³„λ¥Ό λ³€κ²½ν•μ

<script src="https://gist.github.com/ShinDongHun1/435021df5f8ff5aa1af2c31ae68331b4.js"></script>

κ·Έλ°λ° κµ¬ν„μ²΄κ°€ μ—†λ”λ° μ–΄λ–»κ² μ½”λ“λ¥Ό μ‹¤ν–‰ν•΄μ•Ό ν• κΉ?

![image-20211009202005776](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211009202005776.png)

μ΄λ ‡κ² μ¤λ¥κ°€ λ°μƒν•λ‹¤.

#### ν•΄κ²°λ°©λ²• 

- μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ ¤λ©΄ λ„κµ°κ°€κ°€ ν΄λΌμ΄μ–ΈνΈμΈ OrderServiceImpl μ— DiscountPolicy μ κµ¬ν„ κ°μ²΄λ¥Ό λ€μ‹  μƒμ„±ν•κ³  μ£Όμ…ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.
- ν›„μ— κ°€μ„ λ°°μ°κ² μ§€λ§, μ΄κ²ƒμ΄ μ¤ν”„λ§μ΄ μ κ³µν•λ” κΈ°μ μΈ μμ΅΄μ„± μ£Όμ…(DI)μ΄λ‹¤. 
- μ°μ„ μ€ μ¤ν”„λ§μ„ μ‚¬μ©ν•μ§€ μ•κ³  ν•΄κ²°ν•΄λ³΄μ.

<br/>

<br/>

### π’΅ AppConfig μƒμ„±

- ##### μ• ν”λ¦¬μΌ€μ΄μ…μ μ „μ²΄ λ™μ‘ λ°©μ‹μ„ κµ¬μ„±(config)ν•κΈ° μ„ν•΄, κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ—°κ²°ν•λ” μ±…μ„μ„ κ°€μ§€λ” λ³„λ„μ μ„¤μ • ν΄λμ¤μΈ AppConfigλ¥Ό λ§λ“¤μ

#### <br/>MemberServiceImpl λ³€κ²½ν•κΈ°

<script src="https://gist.github.com/ShinDongHun1/65efcd5312276fe878e1c813b9909122.js"></script>

μ΄λ ‡κ² μƒμ„±μλ¥Ό ν†µν•΄ λ§λ“¤μ–΄μ§€λ„λ΅ λ³€κ²½ν•μ€λ‹¤.

#### <br/>OrderServiceImpl λ³€κ²½ν•κΈ°

<script src="https://gist.github.com/ShinDongHun1/c22ca6d1bb9f9a4573423660a49c24ab.js"></script>

<br/>

<br/>

#### - AppConfig

<script src="https://gist.github.com/ShinDongHun1/804fc291de8ad88c5236403e54e3e6d7.js"></script>

μ΄λ ‡κ² λλ©΄, 

AppConfigλ” MemberServiceImplκ³Ό OrderServiceImplμ—  **μμ΅΄μ„±μ„ μ£Όμ…**ν•΄μ£Όλ©°

##### MemberServiceImplκ³Ό OrderServiceImpl λ” DIPμ™€ OCPλ¥Ό μ§€ν‚¬ μ μμ–΄μ§„λ‹¤.

μ‹¤μ  μ‚¬μ©μ€ 

```java
AppConfig appConfig = new AppConfig();
//MemberService memberService = new MemberServiceImpl();
MemberService memberService = appConfig.memberService();
```

μ΄λ ‡κ² μ‚¬μ©ν•΄μ£Όλ©΄ λλ‹¤.

#### - AppConfig λ¦¬ν™ν„°λ§

<script src="https://gist.github.com/ShinDongHun1/979c5db631b9e08fb929898084fee62e.js"></script>

