---
title:  "JDK ë™ì  í”„ë¡ì‹œ"
excerpt: "JDK ë™ì  í”„ë¡ì‹œ"
date:   2021-12-01 19:50:00 
header:
  teaser: /assets/images/spring.png

categories: java
tags:
  - Java
last_modified_at: 2021-12-01T19:50:00




---

<br/>

<br/>

## ğŸ’¡ JDK ë™ì  í”„ë¡ì‹œ

ë™ì  í”„ë¡ì‹œ ê¸°ìˆ ì€ ê°œë°œìê°€ ì§ì ‘ í”„ë¡ì‹œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ í”„ë¡ì‹œ ê°ì²´ë¥¼ ë™ì ìœ¼ë¡œ ëŸ°íƒ€ì„ì— ëŒ€ì‹  ë§Œë“¤ì–´ì¤€ë‹¤. ë™ì  í”„ë¡ì‹œì— ì ìš©í•  ë¡œì§ì€ InvocationHandler ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ì‘ì„±í•œë‹¤.

<br/>

##### InvocationHandler

```java
public interface InvocationHandler {
	
	public Object invoke(Object proxy, Method method, Object[] args) throws Throwable
	
}
```

- Object proxy : í”„ë¡ì‹œ ìì‹
- Method method : í˜¸ì¶œí•œ ë©”ì„œë“œ 
- Object [] args : ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì „ë‹¬í•œ ì¸ìˆ˜ 

<br/>

```java
public interface AInterface {
    String call();
}
```

```java
public class AImpl implements AInterface {
    @Override
    public String call() {
        System.out.println("A í˜¸ì¶œ");
        return "A";
    }
}
```

<br/>

```java
import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;

public class CustomInvocationHandler implements InvocationHandler {

    private final Object target;//í”„ë¡ì‹œë¥¼ ì ìš©í•  ëŒ€ìƒ

    public CustomInvocationHandler(Object target) {
        this.target = target;
    }

    @Override
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println("ì‹œê°„ ì²´í¬");
        long start = System.currentTimeMillis();

        Object result = method.invoke(target, args);

        long end = System.currentTimeMillis();
        long resultTime = end - start;
        System.out.println("ê±¸ë¦°ì‹œê°„ : "+resultTime);
        return result;
    }


}
```

```java
public class Test {


    public static void main(String[] args) {
        AInterface target = new AImpl();

        CustomInvocationHandler customInvocationHandler = new CustomInvocationHandler(target);

        AInterface proxy = (AInterface) Proxy.newProxyInstance(AInterface.class.getClassLoader(), new Class[]{AInterface.class}, customInvocationHandler);

        proxy.call();//1. ë™ì  í”„ë¡ì‹œì˜ call() ì„ í˜¸ì¶œ


    }
}
```

1.  ë™ì  í”„ë¡ì‹œì˜ call() ì„ í˜¸ì¶œ
2. JDK ë™ì  í”„ë¡ì‹œëŠ” InvocationHandler.invoke()ë¥¼ í˜¸ì¶œí•œë‹¤.
3. InvocationHandler.invoke() ì˜ ë¡œì§ ì† method.invoke(target, args); ê°€ ì‹¤í–‰ëœë‹¤
4. ê°ì²´ AImplì˜ call()ì´ ì‹¤í–‰ëœë‹¤.

<br/>

<br/>

### ì¥ì 

í”„ë¡ì‹œ í´ë˜ìŠ¤ í•˜ë‚˜ë¡œ ë¶€ê°€ ê¸°ëŠ¥ ë¡œì§ì„ ì •ì˜í•  ìˆ˜ ìˆì–´ì¡Œê³ , ë‹¨ì¼ ì±…ì„ ì›ì¹™ë„ ì§€í‚¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

<br/>

### ë‹¨ì 

JDK ë™ì  í”„ë¡ì‹œëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìˆ˜ì´ë‹¤.

ê·¸ë ‡ë‹¤ë©´ ì¸í„°í˜ì´ìŠ¤ê°€ ì—†ì´ í´ë˜ìŠ¤ë§Œ ìˆëŠ” ê²½ìš°ì—ëŠ” ë™ì  í”„ë¡ì‹œë¥¼ ìƒì„±í•  ë°©ë²•ì´ ì—†ì„ê¹Œ?

ì´ë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì´ CGLIBë¼ëŠ” ë°”ì´íŠ¸ì½”ë“œë¥¼ ì¡°ì‘í•˜ëŠ” íŠ¹ë³„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤

<br/>

<br/>

### ğŸ“” Reference

##### [ì¸í”„ëŸ° - ìŠ¤í”„ë§ í•µì› ì›ë¦¬ - ê³ ê¸‰í¸](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B3%A0%EA%B8%89%ED%8E%B8/dashboard)