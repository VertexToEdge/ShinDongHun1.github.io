---
title:  "@Query"
excerpt: "ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œì— ì¿¼ë¦¬ ì •ì˜í•˜ê¸°"
date:   2021-10-26 00:50:00
header:
  teaser: /assets/images/spring.png

categories: DATA
tags:
  - Java
  - Spring
  - JPA
  - DATA JPA
last_modified_at: 2021-10-26T00:50:00


---

<br/>

## ğŸ’¡ NamedQuery

##### JPAì˜ NamedQuery ê¸°ëŠ¥ì„ data JPAì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```java
@Query(name = "Member.findByUsername")
List<Member> findByUsername(@Param("username")String username);
```

##### ìœ„ì™€ê°™ì´ @Query ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì¸ í›„ ì‚¬ìš©í•  ë„¤ì„ë“œ ì¿¼ë¦¬ì˜ ì´ë¦„ì„ ì ìš©í•´ì£¼ë©´ ëœë‹¤.

##### ì°¸ê³ ë¡œ ìœ„ì™€ê°™ì´ JPQLì„ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” @Paramì„ ì‚¬ìš©í•´ì£¼ì–´ì•¼ í•œë‹¤.

<br/>

#### ê·¸ëŸ¬ë‚˜ ì´ ê¸°ëŠ¥ì€ ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤!!

<br/>

<br/>

## ğŸ’¡ @Query

```java
@Query("select m from Member m where m.username = :username and m.age = :age")
List<Member> findUser(@Param("username") String username, @Param("age") int age);
```

##### @Queryë¥¼ ì‚¬ìš©í•˜ë©´ JPQLì„ ë¦¬í¬ì§€í† ë¦¬ ë©”ì†Œë“œì— ë°”ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

##### ë©”ì†Œë“œ ì´ë¦„ë§Œìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì€, íŒŒë¼ë¯¸í„°ê°€ ì¶”ê°€ë ìˆ˜ë¡ ì´ë¦„ì´ ë„ˆë¬´ ê¸¸ì–´ì§„ë‹¤. 

##### í•´ë‹¹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì´ë¦„ì„ ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•˜ë©´ì„œë„ ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ê°„í¸í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.

<br/>

#### @Queryë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ê³¼ DTO ì¡°íšŒë°©ë²•

##### ê°’ ì¡°íšŒí•˜ê¸°

```java
@Query("select m.username from Member m")//ê°’ì„ ì¡°íšŒ
List<String> findUSernameList();
```

<br/>

##### DTO ì¡°íšŒí•˜ê¸°

```java
@Query("select new study.datajpa.dto.MemberDto(m.id, m.username, t.name) from Member m join m.team t")//DTO ì¡°íšŒ
List<MemberDto > findMemberDto();
```

##### newë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ê³  í˜í‚¤ì§€ì˜ ì£¼ì†Œê¹Œì§€ ëª¨ë‘ ì ì–´ì•¼ í•œë‹¤.

<br/>

<br/>

### ğŸ“” Reference

[ì¸í”„ëŸ° - ì‹¤ì „! ìŠ¤í”„ë§ ë°ì´í„° JPA](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%8D%B0%EC%9D%B4%ED%84%B0-JPA-%EC%8B%A4%EC%A0%84/dashboard)