---
title:  "ë²Œí¬ ì—°ì‚°"
excerpt: "ë°ì´í„° JPA ë²Œí¬ì—°ì‚°"
date:   2021-10-26 06:30:00
header:
  teaser: /assets/images/spring.png

categories: DATA
tags:
  - Java
  - Spring
  - JPA
  - DATA JPA
  - ë²Œí¬ì—°ì‚°
last_modified_at: 2021-10-26T06:30:00

---

<br/>

## ğŸ’¡ ë²Œí¬ì„± ìˆ˜ì • ì¿¼ë¦¬

##### ëª¨ë“  íšŒì›ë“¤ì˜ ë‚˜ì´ë¥¼ 1ì‚´ ì¦ê°€ì‹œì¼œë¼

<br/>

#### ìˆœìˆ˜ JPA ì‚¬ìš©

```java
public int bulkAgePlus(){//ì˜í–¥ì„ ë°›ì€ ì—”í‹°í‹° ìˆ˜ ë°˜í™˜
	return em.createQuery("update Member m set m.age = m.age + 1")
        .executeUpdate();
}
```

<br/>

#### ë°ì´í„° JPA ì‚¬ìš©

```java
@Modifying
@Query("update Member m set m.age = m.age + 1")
int bulkAgePlus();
```

#### @Modifying ì´ ìˆì–´ì•¼ executeUpdate()ë¥¼ ì‹¤í–‰í•œë‹¤.

<br/>

##### JPAì—ì„œì™€ ë˜‘ê°™ì´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¬´ì‹œí•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ë°”ë¡œ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì—, ë²Œí¬ì—°ì‚° ì´í›„ì— em.flush(), em.clear()ë¥¼ í†µí•´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¹„ì›Œì£¼ì!

##### ë˜í•œ ë°ì´í„° JPAëŠ” clearë¥¼ ìë™ìœ¼ë¡œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ ì¡´ì¬í•˜ëŠ”ë° @Modifying(clearAutomatically = true)ë¥¼ ì„¤ì •í•´ì£¼ë©´ ìë™ìœ¼ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ clear í•´ì¤€ë‹¤

<br/>

<br/>

### ğŸ“” Reference

[ì¸í”„ëŸ° - ì‹¤ì „! ìŠ¤í”„ë§ ë°ì´í„° JPA](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%EB%8D%B0%EC%9D%B4%ED%84%B0-JPA-%EC%8B%A4%EC%A0%84/dashboard)

