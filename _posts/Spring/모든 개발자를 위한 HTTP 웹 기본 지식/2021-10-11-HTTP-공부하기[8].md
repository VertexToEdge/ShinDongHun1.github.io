---
title:  "HTTP κ³µλ¶€ν•κΈ°[8]"
excerpt: "μΊμ‹μ™€ μ΅°κ±΄λ¶€ μ”μ²­"
date:   2021-10-11 02:10:00 +0900
header:
  teaser: /assets/images/spring.png

categories: javaSpring	
tags:
  - HTTP
last_modified_at: 2021-10-11T02:10:00-05:00





---

<br/>

[λ¨λ“  κ°λ°μλ¥Ό μ„ν• HTTP μ›Ή κΈ°λ³Έ μ§€μ‹](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/dashboard)λ¥Ό λ³΄κ³  κ³µλ¶€ν•κ³  μ •λ¦¬ν• λ‚΄μ©μ„ μ¬λ¦½λ‹λ‹¤

<br/>

## **π’΅** κ²€μ¦ ν—¤λ”μ™€ μ΅°κ±΄λ¶€ μ”μ²­

#### μΊμ‹ μ‹κ°„ μ΄κ³Ό

- μΊμ‹ μ ν¨ μ‹κ°„μ΄ μ΄κ³Όν•΄μ„ μ„λ²„μ—μ„ λ‹¤μ‹ μ”μ²­ν•λ©΄ λ‹¤μ λ‘ κ°€μ§€ μƒν™©μ΄ λ‚νƒ€λ‚λ‹¤.
  1. μ„λ²„μ—μ„ κΈ°μ΅΄ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•¨
  2. μ„λ²„μ—μ„ κΈ°μ΅΄ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•μ§€ μ•μ => μ΄ κ²½μ° μλ£λ¥Ό μ²μλ¶€ν„° λ‹¤μ‹ λ‹¤μ΄λ°›μΌλ©΄ μ†ν•΄μ„

<br/>

#### κ²€μ¦ ν—¤λ”

- ν΄λΌμ΄μ–ΈνΈμ λ°μ΄ν„°μ™€ μ„λ²„μ λ°μ΄ν„°κ°€ κ°™λ‹¤λ” μ‚¬μ‹¤μ„ κ²€μ¦ν•΄μ£Όλ” λ°©λ²•
  - last-modified 

#### μ΅°κ±΄λ¶€ μ”μ²­

- if-modified-since(μ”μ²­) : μ΄ν›„μ— λ°μ΄ν„°κ°€ μμ •λμ—μΌλ©΄?

![image-20211011150420727](C:/Users/huipu/AppData/Roaming/Typora/typora-user-images/image-20211011150420727.png)

![image-20211011150220415](C:/Users/huipu/AppData/Roaming/Typora/typora-user-images/image-20211011150220415.png)

<br/>

#### μ •λ¦¬

- μΊμ‹ μ ν¨ μ‹κ°„μ΄ μ΄κ³Όν•΄λ„, μ„λ²„μ λ°μ΄ν„°κ°€ κ°±μ‹ λμ§€ μ•μΌλ©΄ 
- 304 Not Modified + ν—¤λ” λ©”νƒ€ μ •λ³΄λ§ μ‘λ‹µ(λ°”λ”” X)
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„κ°€ λ³΄λ‚Έ μ‘λ‹µ ν—¤λ” μ •λ³΄λ΅ μΊμ‹μ λ©”νƒ€ μ •λ³΄λ¥Ό κ°±μ‹ 
- ν΄λΌμ΄μ–ΈνΈλ” μΊμ‹μ— μ €μ¥λμ–΄ μλ” λ°μ΄ν„° μ¬ν™μ©
- κ²°κ³Όμ μΌλ΅ λ„¤νΈμ›ν¬ λ‹¤μ΄λ΅λ“κ°€ λ°μƒν•μ§€λ§ μ©λ‰μ΄ μ μ€ ν—¤λ” μ •λ³΄λ§ λ‹¤μ΄λ΅λ“
- λ§¤μ° μ‹¤μ©μ μΈ ν•΄κ²°μ±…

<br/>

#### κ²€μ¦ ν—¤λ”μ™€ μ΅°κ±΄λ¶€ μ”μ²­μ λ‹¨μ 

- 1μ΄ λ―Έλ§ λ‹¨μ„λ΅ μΊμ‹ μ΅°μ •μ΄ λ¶κ°€λ¥
- λ‚ μ§ κΈ°λ°μ λ΅μ§ μ‚¬μ©
- λ°μ΄ν„°λ¥Ό μμ •ν•΄μ„ λ‚ μ§κ°€ λ‹¤λ¥΄μ§€λ§, κ°™μ€ λ°μ΄ν„°λ¥Ό μμ •ν•΄μ„ λ°μ΄ν„° κ²°κ³Όκ°€ λ‘κ°™μ€ κ²½μ°(A->B->A)
- μ„λ²„μ—μ„ λ³„λ„μ μΊμ‹ λ΅μ§μ„ κ΄€λ¦¬ν•κ³  μ‹¶μ€ κ²½μ°
  - μ) μ¤νμ΄μ¤λ‚ μ£Όμ„μ²λΌ ν¬κ² μν–¥μ΄ μ—†λ” λ³€κ²½μ—μ„ μΊμ‹λ¥Ό μ μ§€ν•κ³  μ‹¶μ€ κ²½μ°

<br/>

### βοΈ ETag

- μΊμ‹μ© λ°μ΄ν„°μ— μ„μμ κ³ μ ν• λ²„μ „ μ΄λ¦„μ„ λ‹¬μ•„λ‘ 
  - μ) ETag: "v1.0"
- λ°μ΄ν„°κ°€ λ³€κ²½λλ©΄ μ΄ μ΄λ¦„μ„ λ°”κΎΈμ–΄μ„ λ³€κ²½ν•¨ (Hashλ¥Ό λ‹¤μ‹ μƒμ„±)
- μ§„μ§ λ‹¨μν•κ² ETagλ§ λ³΄λ‚΄μ„ κ°™μΌλ©΄ μ μ§€, λ‹¤λ¥΄λ©΄ λ‹¤μ‹ λ°›κΈ°

<br/>

#### If-None-Match

- μ‹¤ν¨ν•λ©΄ λ³€κ²½μ΄ μ—†λ‹¤λ” κ²ƒμ΄λ―€λ΅ 304 Not Modified

<br/>

#### μ •λ¦¬

- μΊμ‹ μ μ–΄ λ΅μ§μ„ μ„λ²„μ—μ„ μ™„μ „ν κ΄€λ¦¬
- ν΄λΌμ΄μ–ΈνΈλ” λ‹¨μν μ΄ κ°’μ„ μ„λ²„μ— μ κ³µ(ν΄λΌμ΄μ–ΈνΈλ” μΊμ‹ λ§¤μ»¤λ‹μ¦μ„ λ¨λ¦„)

<br/>

<br/>

## **π’΅** μΊμ‹ μ μ–΄ ν—¤λ”

#### βοΈ Cache-Control : μΊμ‹ μ μ–΄

- #####  max- age : μΊμ‹ μ ν¨ μ‹κ°„, μ΄ λ‹¨μ„

- #####  no-cache :  λ°μ΄ν„°λ” μΊμ‹ν•΄λ„ λμ§€λ§, ν•­μƒ μ›(origin) μ„λ²„μ— κ²€μ¦ν•κ³  μ‚¬μ©

- #####  no-store :  λ°μ΄ν„°μ— λ―Όκ°ν• μ •λ³΄κ°€ μμΌλ―€λ΅ μ €μ¥ν•λ©΄ μ•λ¨(λ©”λ¨λ¦¬μ—μ„ μ‚¬μ©ν•κ³  μµλ€ν•  λΉ¨λ¦¬ μ‚­μ ) 

<br/>

##### Pragma(μΊμ‹ μ μ–΄μ ν•μ„ νΈν™)

- HTTP 1.0 ν•μ„ νΈν™

##### Expires(μΊμ‹ λ§λ£μΌ μ§€μ •μ ν•μ„ νΈν™)

- cache-controlμ  max- age μ™€ ν•¨κ» μ‚¬μ©ν•λ©΄ expires λ¬΄μ‹

<br/>

<br/>

## **π’΅** ν”„λ΅μ‹ μΊμ‹

μ› μ„λ²„μ— μ§μ ‘ μ ‘κ·Όν•λ” κ²ƒμ€ κ±°λ¦¬κ°€ λ©€μ–΄μ§μλ΅ μ‹κ°„μ΄ μ¤λ κ±Έλ¦°λ‹¤

#### ν”„λ΅μ‹ μΊμ‹ λ„μ…

![image-20211011152827927](C:/Users/huipu/AppData/Roaming/Typora/typora-user-images/image-20211011152827927.png)

<br/>

#### Cache-Control

- ##### public : μ‘λ‹µμ΄ public μΊμ‹μ— μ €μ¥λμ–΄λ„ λ¨

- ##### private : μ‘λ‹µμ΄ ν•΄λ‹Ή μ‚¬μ©μλ§μ„ μ„ν• κ²ƒμ„. private μΊμ‹μ— μ €μ¥λμ–΄μ•Ό ν•¨ (κΈ°λ³Έκ°’)

- ##### s-maxage : ν”„λ΅μ‹ μΊμ‹μ—λ§ μ μ©λλ” max-age

- ##### Age:60 : μ¤λ¦¬μ§„ μ„λ²„μ—μ„ μ‘λ‹µ ν›„ ν”„λ΅μ‹ μΊμ‹ λ‚΄μ— λ¨Έλ¬Έ μ‹κ°„(μ΄)

<br/>

## **π’΅** μΊμ‹ λ¬΄ν¨ν™”

#### Cache-Control : no-cache, no-store, must-revalidate

#### Pragma: no-cache

μ΄λ¥Ό λ‹¤ λ„£μ–΄μ£Όλ©΄ ν™•μ‹¤ν•κ² μΊμ‹ λ¬΄ν¨ν™”κ°€ λλ‹¤.

- no-cache : λ°μ΄ν„°λ” μΊμ‹ν•΄λ„ λμ§€λ§, ν•­μƒ **μ› μ„λ²„**μ— κ²€μ¦ν•κ³  μ‚¬μ©

-  must-revalidate: 

  - μΊμ‹ λ§λ£ν›„ μµμ΄ μ΅°νμ‹ **μ› μ„λ²„**μ— κ²€μ¦ν•΄μ•Ό ν•¨

  - ##### μ› μ„λ²„ μ ‘κ·Ό μ‹¤ν¨μ‹ λ°λ“μ‹ μ¤λ¥κ°€ λ°μƒν•΄μ•Ό ν•¨ (504 Gateway Timeout)

![image-20211011154129541](C:/Users/huipu/AppData/Roaming/Typora/typora-user-images/image-20211011154129541.png)

![image-20211011154201470](C:/Users/huipu/AppData/Roaming/Typora/typora-user-images/image-20211011154201470.png)

<br/>

## **π§Ύ** μ •λ¦¬

#### βοΈ κ²€μ¦ ν•΄λ”μ™€ μ΅°κ±΄λ¶€ μ”μ²­ 1 : last-modified , if-modified-since

#### βοΈ κ²€μ¦ ν•΄λ”μ™€ μ΅°κ±΄λ¶€ μ”μ²­ 2 : ETag , If-None-μΊμ‹ λ¬΄ν¨ν™”

#### β μΊμ‹ λ¬΄ν¨ν™”:

- #### Cache-Control : no-cache, no-store, must-revalidate

- #### Pragma: no-cacheMatch