---
title:  "μ¤ν”„λ§ MVC κ³µλ¶€ν•κΈ°[5]"
excerpt: "μ¤ν”„λ§ MVC κΈ°λ¥, ν—¤λ” μ΅°ν, μ”μ²­ νλΌλ―Έν„°"
date:   2021-10-13 19:30:00
header:
  teaser: /assets/images/spring.png

categories: MVC
tags:
  - Java
  - Spring
  - MVC
last_modified_at: 2021-10-19T17:30:00

---

<br/>

[μ¤ν”„λ§ MVC 1νΈ](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-1/dashboard)λ¥Ό λ³΄κ³  κ³µλ¶€ν•κ³  μ •λ¦¬ν• λ‚΄μ©μ„ μ¬λ¦½λ‹λ‹¤

<br/>

## π’΅ μ¤ν”„λ§ MVC κΈ°λ¥

### βοΈ @RestController

- ##### @Controller : λ°ν™ κ°’μ΄ String μ΄λ©΄ λ·° μ΄λ¦„μΌλ΅ μΈμ‹λλ‹¤. κ·Έλμ„ 'λ·°λ¥Ό μ°Ύκ³  λ·°κ°€ λ λ”λ§' λλ‹¤

- ##### @RestController : λ°ν™ κ°’μΌλ΅ λ·°λ¥Ό μ°Ύλ” κ²ƒμ΄ μ•„λ‹λΌ, HTTP λ©”μ‹μ§€ λ°”λ””μ— λ°”λ΅ μ…λ ¥ν•λ‹¤.

- ##### @RestController = @Controller + @ResponseBody

<br/>

### βοΈ @RequestMapping("/hello-basic")

- ##### /hello-baisc : URL νΈμ¶μ΄ μ¤λ©΄ μ΄ λ©”μ„λ“κ°€ μ‹¤ν–‰λλ„λ΅ λ§¤ν•‘ν•λ‹¤.

- ##### λ€λ¶€λ¶„μ μ†μ„±μ„ λ°°μ—΄λ΅ μ κ³µν•λ―€λ΅ λ‹¤μ¤‘ μ„¤μ •μ΄ κ°€λ¥ν•λ‹¤. {"/hello", "/member"} 

- ##### @RequestMapping μ— method μ†μ„±μΌλ΅ HTTP λ©”μ„λ“λ¥Ό μ§€μ •ν•  μ μλ‹¤.

  - μ¶•μ•½ κ°€λ¥
  - @GetMapping , @PostMapping , @PutMapping , @DeleteMapping , @PatchMapping

<br/>

<br/>

### βοΈPathVariable(κ²½λ΅ λ³€μ) μ‚¬μ©

<script src="https://gist.github.com/ShinDongHun1/49f6477afc7af5fa0d5691a874620467.js"></script>

μµκ·Ό HTTP APIλ” λ‹¤μκ³Ό κ°™μ΄ λ¦¬μ†μ¤ κ²½λ΅μ— μ‹λ³„μλ¥Ό λ„£λ” μ¤νƒ€μΌμ„ μ„ νΈν•λ‹¤.

- /mapping/userA
- /users/1

- ##### @RequestMapping μ€ URL κ²½λ΅λ¥Ό ν…ν”λ¦Ών™” ν•  μ μλ”λ°, @PathVariableμ„ μ‚¬μ©ν•λ©΄ λ§¤μΉ­λλ” λ¶€λ¶„μ„ νΈλ¦¬ν•κ² μ΅°νν•  μ μλ‹¤.

- ##### @PathVariableμ μ΄λ¦„κ³Ό νλΌλ―Έν„° μ΄λ¦„μ΄ κ°™μΌλ©΄ μƒλµν•  μ μλ‹¤.

  - μ„μ μμ‹μ—μ„λ” data λ€μ‹  userIdλ¥Ό μ‚¬μ©ν•λ©΄, ("userId") μƒλµμ΄ κ°€λ¥ν•λ‹¤

<br/>

#### λ‹¤μ¤‘ μ‚¬μ©

<script src="https://gist.github.com/ShinDongHun1/3b7dac34a3768f0c134c0512276c1182.js"></script>

<br/>

##### νΉμ • νλΌλ―Έν„°κ°€ μκ±°λ‚ μ—†λ” μ΅°κ±΄μ„ μ¶”κ°€ κ°€λ¥

νλΌλ―Έν„°λ΅ μ¶”κ°€ λ§¤ν•‘ 

- params="mode", 
- params="!mode" 
- params="mode=debug" 
- params="mode!=debug"
- params = {"mode=debug","data=good"} 

<script src="https://gist.github.com/ShinDongHun1/508e648e54c0727a1411c78739e8ed9f.js"></script>

<br/>

##### λ―Έλ””μ–΄ νƒ€μ… μ΅°κ±΄ λ§¤ν•‘ - HTTP μ”μ²­ Content-Type, consume

<script src="https://gist.github.com/ShinDongHun1/073f5ddeff78879fb61ce05a5a4219da.js"></script>

##### application/json μ λ°μ΄ν„°λ§ λ°›μ„ μ μμ. λ‹¤λ¥Έ ν•μ‹μ΄ μ¤λ©΄ μ¤λ¥

<br/>

##### λ―Έλ””μ–΄ νƒ€μ… μ΅°κ±΄ λ§¤ν•‘ - HTTP μ”μ²­ Accept, produce

<script src="https://gist.github.com/ShinDongHun1/460a77ef67459bf7120aa596717bd85d.js"></script>

μ”μ²­μ Acceptκ°€ text/html λ°μ΄ν„°λ¥Ό λ°›μ„ μ μμ–΄μ•Ό ν•¨. κ·Έλ ‡μ§€ μ•μΌλ©΄ μ¤λ¥

<br/>

<br/>

### π’΅ HTTP μ”μ²­ - κΈ°λ³Έ, ν—¤λ” μ΅°ν

<script src="https://gist.github.com/ShinDongHun1/3c9be30f16e5bdfe948bfc83946a10c1.js"></script>

- HttpMethod : HTTP λ©”μ„λ“λ¥Ό μ΅°νν•λ‹¤.
- Locale : Locale μ •λ³΄λ¥Ό μ΅°νν•λ‹¤.
-  @RequestHeader MultiValueMap<String, String> headerMap : λ¨λ“  HTTP ν—¤λ”λ¥Ό MultiValueMap ν•μ‹μΌλ΅ μ΅°νν•λ‹¤.
- @RequestHeader("host") : String host νΉμ • HTTP ν—¤λ”λ¥Ό μ΅°νν•λ‹¤. 
  - μ†μ„± ν•„μ κ°’ μ—¬λ¶€: required
  - κΈ°λ³Έ κ°’ μ†μ„±: defaultValue
- @CookieValue(value = "myCookie", required = false) String cookie :  νΉμ • μΏ ν‚¤λ¥Ό μ΅°νν•λ‹¤.
  - μ†μ„± ν•„μ κ°’ μ—¬λ¶€: required
  - κΈ°λ³Έ κ°’ μ†μ„±: defaultValue

##### μ°Έκ³  MultiValueMap

- MAPκ³Ό μ μ‚¬ν•λ°, ν•λ‚μ ν‚¤μ— μ—¬λ¬ κ°’μ„ λ°›μ„ μ μλ‹¤.
- HTTP header, HTTP μΏΌλ¦¬ νλΌλ―Έν„°μ™€ κ°™μ΄ ν•λ‚μ ν‚¤μ— μ—¬λ¬ κ°’μ„ λ°›μ„ λ• μ‚¬μ©ν•λ‹¤.

<br/>

##### μ°Έκ³  

##### @Conroller μ μ‚¬μ© κ°€λ¥ν• νλΌλ―Έν„° λ©λ΅μ€ λ‹¤μ κ³µμ‹ λ©”λ‰΄μ–Όμ—μ„ ν™•μΈν•  μ μλ‹¤.

> [https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-annarguments](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-annarguments) 

<br/>

#####  μ°Έκ³  

##### @Conroller μ μ‚¬μ© κ°€λ¥ν• μ‘λ‹µ κ°’ λ©λ΅μ€ λ‹¤μ κ³µμ‹ λ©”λ‰΄μ–Όμ—μ„ ν™•μΈν•  μ μλ‹¤. 

> [https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-annreturn-types](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-annreturn-types)

<br/>

<br/>

## π’΅ HTTP μ”μ²­ νλΌλ―Έν„° μ΅°ν

<br/>

### **π’΅ **μΏΌλ¦¬ νλΌλ―Έν„°, HTML Form μ΅°ν

#### GET , μΏΌλ¦¬ νλΌλ―Έν„° μ „μ†΅

μμ‹ : http://localhost:8080/request-param?username=hello&age=20

<br/>

#### POST, HTML Form μ „μ†΅

μμ‹

> POST /request-param ...
>
> content-type: application/x-www-form-urlencoded 
>
> 
>
> username=hello&age=20

<br/>

##### GET μΏΌλ¦¬ νλ¦¬λ―Έν„° μ „μ†΅ λ°©μ‹μ΄λ“ , POST HTML Form μ „μ†΅ λ°©μ‹μ΄λ“  λ‘λ‹¤ ν•μ‹μ΄ κ°™μΌλ―€λ΅ κµ¬λ¶„μ—†μ΄ μ΅°νν•  μ μλ‹¤. 

##### μ΄κ²ƒμ„ κ°„λ‹¨ν μ”μ²­ νλΌλ―Έν„°(request parameter) μ΅°νλΌ ν•λ‹¤

<br/>

μ°Έκ³ λ΅ HttpServletRequestμ getParameterλ¥Ό μ‚¬μ©ν•μ—¬ μ΅°νν•  μ μμΌλ‚, κ·Έκ±΄ μ „μ— ν–μ—κΈ° λ•λ¬Έμ— λ„μ–΄κ°€κ² λ‹¤.

<br/>

### βοΈ HTTP μ”μ²­ νλΌλ―Έν„° μ΅°ν - @RequestParam

<script src="https://gist.github.com/ShinDongHun1/442526edb45d5ce92c80c891b2b7953a.js"></script>

μ„μ™€ κ°™μ΄ μ‚¬μ©ν•  μ μκ³ , 

- ##### @RequestParamμ name(value) μ†μ„±μ΄ νλΌλ―Έν„° μ΄λ¦„μΌλ΅ μ‚¬μ©

- ##### HTTP νλΌλ―Έν„° μ΄λ¦„μ΄ λ³€μ μ΄λ¦„κ³Ό κ°™μΌλ©΄ @RequestParam(name="xx") μƒλµ κ°€λ¥

- ##### String , int , Integer λ“±μ λ‹¨μ νƒ€μ…μ΄λ©΄ @RequestParam λ„ μƒλµ κ°€λ¥

<br/>

λ‹¤μκ³Ό κ°™μ΄ μ‚¬μ©ν•  μ μλ‹¤.

<script src="https://gist.github.com/ShinDongHun1/b69c85af9c338a7793173064b3195ef7.js"></script>

#####  μ£Όμ  

- ##### @RequestParam μ• λ…Έν…μ΄μ…μ„ μƒλµν•λ©΄ μ¤ν”„λ§ MVCλ” λ‚΄λ¶€μ—μ„ @RequestParamμ  requiredμ†μ„±μ„ falseλ΅ μ μ©ν•λ‹¤. 

- username=   :μ΄λ ‡κ² μ“΄λ‹¤λ©΄ nullμ΄ μ•„λ‹λΌ λΉλ¬Έμ("")λ΅ μΈμ‹ν•λ‹¤.

- required μ†μ„±μ„ trueλ΅ μ„¤μ •ν• ν›„ defaultValueλ¥Ό μ„¤μ •ν•λ©΄, νλΌλ―Έν„° κ°’μ΄ μ—†μ–΄λ„ μ¤λ¥κ°€ λ°μƒν•μ§€ μ•κ³  defaultValueκ°’μ΄ λ“¤μ–΄κ°„λ‹¤.

- defaultValue λ¥Ό μ„¤μ •ν•λ©΄, λΉλ¬Έμμ κ²½μ°(username= )μ κ²½μ°μ—λ„ defaultValueκ°’μ΄ μ„¤μ •λλ‹¤.

<br/>

#### νλΌλ―Έν„°λ¥Ό MapμΌλ΅ μ΅°νν•κΈ° - requestParamMap

<script src="https://gist.github.com/ShinDongHun1/6e7b99071cf3482ade361a3219d3730f.js"></script>

νλΌλ―Έν„°λ¥Ό Map , MultiValueMapμΌλ΅ μ΅°νν•  μ μλ‹¤.

- νλΌλ―Έν„°μ κ°’μ΄ 1κ°κ°€ ν™•μ‹¤ν•λ‹¤λ©΄ Mapμ„ μ‚¬μ©ν•΄λ„ λμ§€λ§ κ·Έλ ‡μ§€ μ•λ‹¤λ©΄ MultiValueMapμ„ μ‚¬μ©ν•μ.

<br/>

<br/>

### βοΈ HTTP μ”μ²­ νλΌλ―Έν„° μ΅°ν - @ModelAttribute

λ³΄ν†µ κ°λ°μ„ ν•λ©΄ μ”μ²­ νλΌλ―Έν„°λ¥Ό λ°›μ•„μ„ ν•„μ”ν• κ°μ²΄λ¥Ό λ§λ“¤κ³ , κ·Έ κ°μ²΄μ— κ°’μ„ λ„£μ–΄μ£Όλ”λ°

μ΄ κ³Όμ •μ„ μλ™ν™”ν•΄μ£Όλ” @ModelAttributeλ€ κΈ°λ¥μ„ μ κ³µν•λ‹¤.

<br/>

##### μ°μ„  μ”μ²­ νλΌλ―Έν„°λ¥Ό λ°”μΈλ”© λ°›μ„ κ°μ²΄λ¥Ό λ§λ“¤μ.

<script src="https://gist.github.com/ShinDongHun1/fe55ad3446b8729a0eaa458a27d2d4ba.js"></script>

- @Dataλ” λ΅¬λ³µμ„ μ‚¬μ©ν• κ²ƒμ΄λ‹¤.

<br/>

<script src="https://gist.github.com/ShinDongHun1/442bbf368a5a9fce16e19a7506ae1628.js"></script>

μ¤ν”„λ§MVCλ” @ModelAttribute κ°€ μμΌλ©΄ λ‹¤μμ„ μ‹¤ν–‰ν•λ‹¤

- HelloData κ°μ²΄λ¥Ό μƒμ„±ν•λ‹¤. 
- μ”μ²­ νλΌλ―Έν„°μ μ΄λ¦„μΌλ΅ HelloData κ°μ²΄μ ν”„λ΅νΌν‹°λ¥Ό μ°Ύλ”λ‹¤. κ·Έλ¦¬κ³  ν•΄λ‹Ή ν”„λ΅νΌν‹°μ setterλ¥Ό νΈμ¶ν•΄μ„ νλΌλ―Έν„°μ κ°’μ„ μ…λ ¥(λ°”μΈλ”©) ν•λ‹¤. 
- μ) νλΌλ―Έν„° μ΄λ¦„μ΄ username μ΄λ©΄ setUsername() λ©”μ„λ“λ¥Ό μ°Ύμ•„μ„ νΈμ¶ν•λ©΄μ„ κ°’μ„ μ…λ ¥ν•λ‹¤
  - setterκ°€ μ—†μΌλ©΄ nullκ°’μ΄ λ“¤μ–΄μ¨λ‹¤.

<br/>

#### @ModelAttribute λ” μƒλµν•  μ μλ‹¤. 

##### κ·Έλ°λ° @RequestParam λ„ μƒλµν•  μ μμΌλ‹ νΌλ€μ΄ λ°μƒν•  μ μλ‹¤.

##### μ¤ν”„λ§μ€ ν•΄λ‹Ή μƒλµμ‹ λ‹¤μκ³Ό κ°™μ€ κ·μΉ™μ„ μ μ©ν•λ‹¤. 

- String , int , Integer κ°™μ€ λ‹¨μ νƒ€μ… = @RequestParam 
- λ‚λ¨Έμ§€ = @ModelAttribute (argument resolver λ΅ μ§€μ •ν•΄λ‘” νƒ€μ… μ™Έ)

<br/>

##### ν”„λ΅νΌν‹°

- κ°μ²΄μ— getUsername() , setUsername() λ©”μ„λ“κ°€ μμΌλ©΄, μ΄ κ°μ²΄λ” username μ΄λΌλ” ν”„λ΅νΌν‹°λ¥Ό κ°€μ§€κ³  μλ‹¤. 
- username ν”„λ΅νΌν‹°μ κ°’μ„ λ³€κ²½ν•λ©΄ setUsername() μ΄ νΈμ¶λκ³ , μ΅°νν•λ©΄ getUsername() μ΄ νΈμ¶λλ‹¤

<br/>

##### λ°”μΈλ”© μ¤λ¥

-  age=abc μ²λΌ μ«μκ°€ λ“¤μ–΄κ°€μ•Ό ν•  κ³³μ— λ¬Έμλ¥Ό λ„£μΌλ©΄ BindException μ΄ λ°μƒν•λ‹¤. μ΄λ° λ°”μΈλ”© μ¤λ¥λ¥Ό μ²λ¦¬ν•λ” λ°©λ²•μ€ κ²€μ¦ λ¶€λ¶„μ—μ„ λ‹¤λ£¬λ‹¤

<br/>

<br/>

## π§Ύ μ •λ¦¬

#### βοΈ @RestController : λ°ν™ κ°’μΌλ΅ λ·°λ¥Ό μ°Ύλ” κ²ƒμ΄ μ•„λ‹λΌ, HTTP λ©”μ‹μ§€ λ°”λ””μ— λ°”λ΅ μ…λ ¥ν•λ‹¤.

#### βοΈ @RequestMapping("/hello-basic") : URL νΈμ¶μ΄ μ¤λ©΄ μ΄ λ©”μ„λ“κ°€ μ‹¤ν–‰λλ„λ΅ λ§¤ν•‘ν•λ‹¤.

#### βοΈ HTTP μ”μ²­ - κΈ°λ³Έ, ν—¤λ” μ΅°ν

- HttpMethod : HTTP λ©”μ„λ“λ¥Ό μ΅°νν•λ‹¤.
- Locale : Locale μ •λ³΄λ¥Ό μ΅°νν•λ‹¤.
-  @RequestHeader MultiValueMap<String, String> headerMap : λ¨λ“  HTTP ν—¤λ”λ¥Ό MultiValueMap ν•μ‹μΌλ΅ μ΅°νν•λ‹¤.
- @RequestHeader("host") : String host νΉμ • HTTP ν—¤λ”λ¥Ό μ΅°νν•λ‹¤. 
  - μ†μ„± ν•„μ κ°’ μ—¬λ¶€: required
  - κΈ°λ³Έ κ°’ μ†μ„±: defaultValue
- @CookieValue(value = "myCookie", required = false) String cookie :  νΉμ • μΏ ν‚¤λ¥Ό μ΅°νν•λ‹¤.
  - μ†μ„± ν•„μ κ°’ μ—¬λ¶€: required
  - κΈ°λ³Έ κ°’ μ†μ„±: defaultValue



#### βοΈ  μΏΌλ¦¬ νλΌλ―Έν„°, HTML Form μ΅°ν

- #####  @RequestParam : μ”μ²­ νλΌλ―Έν„°μ κ°’μ„ κ°€μ Έμ¨λ‹¤.

- ##### @ModelAttribute : μ”μ²­ νλΌλ―Έν„°μ κ°’μ„ κ°μ²΄μ— λ°”μΈλ”©.
