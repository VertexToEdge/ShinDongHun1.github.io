---
title:  "ìŠ¤í”„ë§ MVC ê³µë¶€í•˜ê¸°[9]"
excerpt: "ë©”ì‹œì§€, êµ­ì œí™”, REST APIì—ì„œì˜ êµ­ì œí™” ì ìš©"
date:   2021-10-14 11:42:00
header:
  teaser: /assets/images/spring.png

categories: MVC
tags:
  - Java
  - Spring
  - MVC
last_modified_at: 2021-10-14T11:42:00

---

<br/>

[ìŠ¤í”„ë§ MVC 2í¸](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-2/dashboard)ë¥¼ ë³´ê³  ê³µë¶€í•˜ê³  ì •ë¦¬í•œ ë‚´ìš©ì„ ì˜¬ë¦½ë‹ˆë‹¤

<br/>

## ğŸ’¡ ë©”ì‹œì§€ ì„¤ì •

##### ìŠ¤í”„ë§ ë©”ì‹œì§€ ì†ŒìŠ¤ ì„¤ì •

ìŠ¤í”„ë§ì€ ê¸°ë³¸ì ì¸ ë©”ì‹œì§€ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
ë©”ì‹œì§€ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” **MessageSource** ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ ë˜ëŠ”ë°,
**MessageSource** ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ë”°ë¼ì„œ êµ¬í˜„ì²´ì¸ **ResourceBundleMessageSource** ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ ëœë‹¤.

<script src="https://gist.github.com/ShinDongHun1/30c07d2d8351968669a28ea749c23f84.js"></script>

- basenames : ì„¤ì • íŒŒì¼ì˜ ì´ë¦„ì„ ì§€ì •í•œë‹¤.
- messages ë¡œ ì§€ì •í•˜ë©´ messages.properties íŒŒì¼ì„ ì½ì–´ì„œ ì‚¬ìš©í•œë‹¤.
- ì¶”ê°€ë¡œ êµ­ì œí™” ê¸°ëŠ¥ì„ ì ìš©í•˜ë ¤ë©´ messages_en.properties , messages_ko.properties ì™€ ê°™ì´
  íŒŒì¼ëª… ë§ˆì§€ë§‰ì— ì–¸ì–´ ì •ë³´ë¥¼ ì£¼ë©´ëœë‹¤. ë§Œì•½ ì°¾ì„ ìˆ˜ ìˆëŠ” êµ­ì œí™” íŒŒì¼ì´ ì—†ìœ¼ë©´
  messages.properties (ì–¸ì–´ì •ë³´ê°€ ì—†ëŠ” íŒŒì¼ëª…)ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
- íŒŒì¼ì˜ ìœ„ì¹˜ëŠ” /resources/messages.properties ì— ë‘ë©´ ëœë‹¤.
- ì—¬ëŸ¬ íŒŒì¼ì„ í•œë²ˆì— ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œëŠ” messages , errors ë‘˜ì„ ì§€ì •í–ˆë‹¤.
- defaultEncoding : ì¸ì½”ë”© ì •ë³´ë¥¼ ì§€ì •í•œë‹¤. utf-8 ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

<br/>

<br/>

### ğŸ’¡ ìŠ¤í”„ë§ ë¶€íŠ¸ ì‚¬ìš© ì‹œ

##### ìŠ¤í”„ë§ ë¶€íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ MessageSource ë¥¼ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤.

<br/>

#### âœï¸ ìŠ¤í”„ë§ ë¶€íŠ¸ ë©”ì‹œì§€ ì†ŒìŠ¤ ì„¤ì •

> ìŠ¤í”„ë§ ë¶€íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë©”ì‹œì§€ ì†ŒìŠ¤ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
>
> ##### application.properties
>
> `spring.messages.basename=messages`

<br/>

MessageSource ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ì§€ ì•Šê³ , ìŠ¤í”„ë§ ë¶€íŠ¸ì™€ ê´€ë ¨ëœ ë³„ë„ì˜ ì„¤ì •ì„ í•˜ì§€ ì•Šìœ¼ë©´ messages ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ê¸°ë³¸ ë“±ë¡ëœë‹¤. 

ë”°ë¼ì„œ messages_en.properties ,messages_ko.properties , messages.properties íŒŒì¼ë§Œ ë“±ë¡í•˜ë©´ ìë™ìœ¼ë¡œ ì¸ì‹ëœë‹¤

<br/>

##### ì„¤ì •ì •ë³´ê°€ ë” ê¶ê¸ˆí•˜ë‹¤ë©´ ì°¾ì•„ë³´ì!

[https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties)

<br/>

<br/>

### âœï¸ ë©”ì‹œì§€, êµ­ì œí™” íŒŒì¼ ë§Œë“¤ê¸°

- ##### messages.properties :ê¸°ë³¸ ê°’ìœ¼ë¡œ ì‚¬ìš©(í•œê¸€)

- ##### messages_en.properties : ì˜ì–´ êµ­ì œí™” ì‚¬ìš©

<br/>

##### messages.properties

<script src="https://gist.github.com/ShinDongHun1/77288379d7e74a632ea32b0f3806137f.js"></script>

##### messages_en.properties

<script src="https://gist.github.com/ShinDongHun1/9073a4d8282fc2f460facb18c56bec48.js"></script>

<br/>

##### ì°¸ê³ ë¡œ ì¸ì½”ë”© ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ”ë° ê·¸ëŸ´ë•ŒëŠ”

![image-20211015222511701](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211015222511701.png)

##### ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•´ì£¼ì

<br/>

<br/>

##### ì‚¬ìš© - MessageSourceë¥¼ í†µí•´ ì‚¬ìš©í•œë‹¤.

<script src="https://gist.github.com/ShinDongHun1/f5eceb04a7954753b9470603e345a9cd.js"></script>

<br/>

##### ì°¸ê³ ) ê°’ ëŒ€ì…

```java
String result = messageSource.getMessage("hello",new Object[]{"ë™í›ˆì•„"}, checkLocale(locale));
```

##### ë‹¤ìŒê³¼ ê°™ì´ **new Object[]{}**ë¥¼ í†µí•´ ê°’ì„ ë„£ì–´ì£¼ì

<br/>

<br/>

#### âœï¸LocaleResolver

ìŠ¤í”„ë§ì€ Locale ì„ íƒ ë°©ì‹ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ **LocaleResolver** ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ”ë°,

ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ê¸°ë³¸ìœ¼ë¡œ Accept-Language ë¥¼ í™œìš©í•˜ëŠ” AcceptHeaderLocaleResolver ë¥¼ ì‚¬ìš©í•œë‹¤.

<br/>

#### âœï¸ LocaleResolver ì¸í„°í˜ì´ìŠ¤

<script src="https://gist.github.com/ShinDongHun1/d3adfacca50e47ce160024399e22e3ac.js"></script>
<br/>

#### âœï¸LocaleResolver ë³€ê²½

ë§Œì•½ Locale ì„ íƒ ë°©ì‹ì„ ë³€ê²½í•˜ë ¤ë©´ LocaleResolver ì˜ êµ¬í˜„ì²´ë¥¼ ë³€ê²½í•´ì„œ ì¿ í‚¤ë‚˜ ì„¸ì…˜ ê¸°ë°˜ì˜
Locale ì„ íƒ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ ê³ ê°ì´ ì§ì ‘ Locale ì„ ì„ íƒí•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.
ê´€ë ¨í•´ì„œ LocaleResolver ë¥¼ ê²€ìƒ‰í•˜ë©´ ìˆ˜ ë§ì€ ì˜ˆì œê°€ ë‚˜ì˜¤ë‹ˆ í•„ìš”í•œ ë¶„ë“¤ì€ ì°¸ê³ í•˜ì.

[https://stove99.github.io/java/springboot/2020/06/08/java-array-contains/](https://stove99.github.io/java/springboot/2020/06/08/java-array-contains/)

<br/>

<br/>

## âœï¸ REST API ì—ì„œ êµ­ì œí™” ì ìš©

ê°•ì˜ì—ì„œëŠ” REST API ì—ì„œ êµ­ì œí™”ë¥¼ ì–´ë–»ê²Œ ì ìš©í•´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì£¼ì§€ ì•Šì•„ì„œ í˜¼ì ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì•˜ëŠ”ë°, í‹€ë ¸ê±°ë‚˜, ê³ ì¹  ë¶€ë¶„ì´ ìˆë‹¤ë©´ ìˆ˜ì •í•˜ê² ë‹¤.

<script src="https://gist.github.com/ShinDongHun1/8d775d6bb5fc52ee7619c2f11f3393fb.js"></script>