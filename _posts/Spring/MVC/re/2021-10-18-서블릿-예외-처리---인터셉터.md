---
title:  "서블릿 예외 처리 - 인터셉터"
excerpt: "스프링 MVC 공부하기[26]"
date:   2021-10-18 01:02:00
header:
  teaser: /assets/images/spring.png

categories: MVC
tags:
  - Java
  - Spring
  - MVC
last_modified_at: 2021-10-18T01:02:00


---

<br/>

## 💡 서블릿 예외 처리 - 인터셉터

인터셉터는 서블릿이 제공하는 기능이 아니라 스프링이 제공하는 기능이다. 

##### 따라서 DispatcherType 과 무관하게 항상 호출된다.

대신에 인터셉터는 다음과 같이 요청 경로에 따라서 추가하거나 제외하기 쉽게 되어 있기 때문에, 이러한 설정을 사용해서 오류 페이지 경로를 **excludePathPatterns** 를 사용해서 빼주면 된다.

<br/>

<br/>

#### 🌌 전체 흐름 정리

##### /hello 정상 요청

> WAS(/hello, dispatchType=REQUEST) -> 필터 -> 서블릿 -> 인터셉터 -> 컨트롤러 -> View

<br/>

##### /error-ex 오류 요청

- 필터는 setDispatcherTypes로 중복 호출 제거 (dispatchType=REQUEST)
- 인터셉터는 경로 정보로 중복 호출 제거 (excludePathPatterns)

<br/>

1. ##### WAS(/error-ex, dispatchType=REQUEST) -> 필터 -> 서블릿 -> 인터셉터 -> 컨트롤러

2. ##### WAS(여기까지 전파) <- 필터 <- 서블릿 <- 인터셉터 <- 컨트롤러(예외발생)

3. ##### WAS 오류 페이지 확인

4. ##### WAS(/error-page/500, dispatchType=ERROR) -> 필터(x) -> 서블릿 -> 인터셉터(x) -> 컨트롤러(/error-page/500) -> View

<br/>

<br/>

#### 🔎 자료 - [스프링 MVC 2편](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-mvc-2/dashboard)

<br/>

