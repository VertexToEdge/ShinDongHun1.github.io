---
title:  "객체지향의 사실과 오해"
excerpt: "객체지향의 사실과 오해"
date:   2021-12-02 22:16:00 +0900
header:
  teaser: /assets/images/

categories: oofm
tags:
  - oofm
last_modified_at: 2021-12-02T22:16:00-05:00


---

<br/>

![image-20211202212046215](https://raw.githubusercontent.com/ShinDongHun1/image_repo/main/img/image-20211202212046215.png)

<br/>

## 객체지향의 사실과 오해 - 역할, 책임, 협력 관점에서 본 객체지향

<br/>

### 객체지향의 목표는 실세계를 모방하는 것이 아니다.

> **"객체지향의 목표는 실세계를 모방하는 것이 아니다. 오히려 새로운 세계를 창조하는 것이다. "** (P.21)

필자는 자바를 대학교에 입학하여 처음 배우며, 객체지향에 대해 처음 배웠을 때, 객체와 실세계를 비유하며, 객체를 실세계의 모방이라는 개념이라 배웠었던 기억이 있다. 책의 저자에 따르면 그것은 실세계에 대한 비유가 객체지향의 다양한 측면을 이해하고 학습하는 데 있어서, 매우 효과적이기 때문이라 설명한다. 이러한 개념은 학습에는 효과적이나, 휼륭한 프로그램을 설계하고 구현하는 실무적인 관점에서는 부적합하다. 

<br/>

<br/>

### 객체지향의 핵심은 클래스가 아니다.

> "훌륭한 객체지향 설계자가 되기 위해 거쳐야 할 첫 번째 도전은 코드를 담는 클래스의 관점에서 **메시지를 주고받는 객체의 관점으로 사고의 중심을 전환**하는 것이다."(P.38)

객체지향이라는 말을 들으면 무엇이 생각나는가? 클래스(Class)가 생각나지 않는가? 

객체지향에 대한 여러 서적이 출간되는 과정에서, 클래스의 중요성이 마치 도시전설처럼 계속해서 강조되었고, 그 결과 객체지향의 중심에 있어야 할 객체로부터 조금씩 멀어져 갔다고 한다.

##### 지금까지의 생각을 모두 버려두고 이제는 객체지향의 본질에 대해서 생각하자.

> "객체지향이란 시스템을 상호작용하는 **자율적인 객체들의 공동체**로 바라보고 객체를 이용해 시스템을 분할하는 방법이다."
>
> "자율적인 객체란 **상태**와 **행위**를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미한다"
>
> "객체는 시스템의 행위를 구현하기 위해 다른 객체와 **협력**한다. 각 객체는 협력 내에서 정해진 **역할**을 수행하며 역할은 관련된 **책임**의 집합이다."
>
> "객체는 다른 객체과 협혁하기 위해 **메시지**를 전송하고, 메시지를 수신한 객체는 메시지를 처리하는 데 적합한 **메서드**를 자율적으로 선택한다."
>
> (P.35)

클래스들의 정적인 관계를 생각하는 것은 중요하지 않다. 메시지를 주고받는 객체들의 동적인 관계에 주목하자.

> **"객체의 역할, 책임, 협력에 집중하라."**

<br/>

<br/>

### 상태와 행동의 관계

앨리스의 이야기에서 앨리스의 행동에 따라 앨리스의 키가 바뀌었다. 책의 필자는 이를 통해 음료를 마시는 행동의 결과가 앨리스의 키에 의존한다는 사실을 알려준다.

상태와 행동 사이에는 다음과 같은 관계가 있다.

- 객체의 행동은 상태에 영향을 받는다.
- 객체의 행동은 상태를 변경시킨다.

<br/>

<br/>

### 객체는 상태, 행동, 식별자를 지닌 실체이다.

이 책의 필자는 [이상한 나라의 앨리스]의 내용 중, 앨리스가 이상한 나라로 이어지는 문을 통과하기 위한 과정을 들려주며, 이때 앨리스를 객체에 비유하여 설명한다.  앨리스는 문을 통과하기 위해 음료를 마시고, 케이크를 먹고, 부채질을 하고, 버섯을 먹는다.

> 객체의 다양한 특징을 효과적으로 설명하기 위해서는 객체를 **상태, 행동, 식별자**를 지닌 실체를 보는 것이 가장 효과적이다.(P.47)

##### 위의 설명에 따라 앨리스를 객체로 보고 생각해보자.

> 객체는 상태를 가지며 상태는 변경 가능하다.
>
> 객체의 상태를 변경시키는 것은 객체의 행동이다.
>
> - 행동의 결과는 상태에 의존적이다.
> - 행동의 순서가 실행 결과에 영향을 미친다.
>
> 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

<br/>

<br/>

### 상태가 아니라 행동에 초점을 맞춰라.

객체지향에 갓 입문한 사람들이라면 상태를 중심으로 객체를 바라보는 실수를 저지를 것이다. 먼저 객체에 필요한 상태가 무엇인지를 결정하고, 그 상태에 필요한 행동을 결정한다. 예를 하나 들어보자.

만약 자동차라는 객체를 하나 만든다고 생각해 보자. 필자와 같이 아직 객체지향에 서투른 사람들이라면 아래와 비슷하게 자동차 클래스를 정의할것이다.

- 자동차의 속도 필드를 만든다.
- 자동차의 종류 필드를 만든다.
- 자동차의 주행거리 필드를 만든다.
- 자동차가 시동이 걸렸는지 판단하는 필드를 만든다.
- ...

이후 다음과 같이 메서드를 정의할 것이다

- 자동차의 시동을 키고 끄는 메서드를 만든다.
- 자동자의 속도를 올리는 메서드를 만든다.
- 브레이크를 밟는 메서드를 만든다.
- ...

**위와같이 클래스를 설계하는 방식이 상태를 먼저 결정하고 행동을 나중에 결정하는 방식이다.**

이 책의 필자는 위와 같은 설계의 나쁜 영향을 다음과 같이 설명한다.

> "첫째, 상태를 먼저 결정할 경우 캡슐화가 저해된다."
>
> "둘째, 객체를 협력자가 아닌 고립된 섬으로 만든다. "
>
> "셋째, 객체의 재사용성이 저하된다."
>
> (P.64~65)

<br/>

객체는 다른 객체와 협력하기 위해 존재하며, 객체의 행동은 객체가 협력에 참여하는 유일한 방법이다. 따라서 우리는 객체의 상태가 아닌 행동에 집중해야 하며, 객체의 행동이란 결국 객체가 협력의 참여하면서 완수해야 하는 **책임**을 의미한다. 

**행동을 결정한 후에야 행동에 필요한 정보가 무엇인지를 고려하게 되며 이 과정에서 필요한 상태가 결정된다.** 

##### <span style="color:orange">따라서 먼저 객체의 행동을 결정하고 그 후에 행동에 적절한 상태를 선택하자.</span>

다음 문장을 꼭 기억하자.

#### <span style="color:red">"행동이 상태를 결정한다." </span>

<br/>

<br/>

### 객체지향의 세계에서 객체는 전지전능하다.

과거 국어시간에 배웠던 의인화에 대해서 생각해보자. 의인화란 사람이 아닌 것을 사람에 빗대어 표현하는 것이다.

객체지향의 세계에서 객체는 현실세계와 다르게 스스로 행동할 수 있다.

현실 속의 전화기는 스스로 통화 버튼을 누를 수 없다. 계좌는 스스로 돈을 이체할 수 없다.  그러나 객체지향 세계에서는 다르다.

> "**객체지향 세계를 구축할 때 현실에서 가져온 객체들은 현실 속에서 할 수 없는 어떤 일이라도 스스로 할 수 있는 전지전능한 존재가 되어버린다.**" 
>
> (P.67)

레베카 워프스브록은 현실의 객체보다 더 많은 일을 할 수 있는 소프트웨어 객체의 특징을 **의인화(anthropomorphism)**라고 부른다.

<br/>

<br/>

### 추상화를 통한 복잡성 극복

> 진정한 의미의 추상화란 현실에서 출발하되 불필요한 부분을 도려내가면서 사물의 놀라운 본질을 드러나게 하는 과정이라고 할 수 있다.
>
> (P.76)

현실은 복잡하며 예측 불가능한 혼돈의 덩어리이다. 내가 넣은 주식, 코인이 언제 곤두박질칠지 모르고,  내일 내가 죽을지 살지도 예측할 수 없다. 

이렇게 복잡한 현실을, 객체지향 패러다임은 객체라는 추상화를 통해서 현실의 복잡성을 극복한다.

'이상한 나라의 앨리스'에 나오는 트럼프 정원사, 병사, 신하, 왕자와 공주들을 보고 앨리스는 다음과 같이 이야기한다. 

##### "기껏해야 트럼프에 불과해"

그렇다. 앨리스는 객체들을 '트럼프'라는 하나의 개념으로 단순화해서 바라본다. 여러 등장인물들의 복잡한 특징을 트럼프라는 추상화를 통해 간단하게 표현한 것이다.

그리고 이러한 추상화는 두 가지 차원에서 이루어진다

> - 첫 번째 차원은 구체적인 사물들 간의 공통점은 취하고 차이점은 버리는 일반화를 통해 단순하게 만드는 것이다.
> - 두 번째 차원은 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써 단순하게 만드는 것이다.

<br/>

<br/>

### 개념의 세가지 관점 -심볼, 내연, 외연

앨리스는 여러 인물들을 '트럼프'라는 개념으로 분류하였다.

이처럼 공통점을 기반으로 객체들을 묶기 위한 그릇을 개념이라고 한다.

이 책에서는 개념의 세 가지 관점을 소개한다

> - 심볼 : 개념을 가리키는 간략한 이름이나 명칭
> - 내연 : 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인할 수 있다.
> - 외연 : 개념에 속하는 모든 객체의 집합
>
> (P. 85)

앨리스 이야기에서 트럼프라는 개념의 심볼, 내연, 외연은 다음과 같다.

- 심볼 : 트럼프
- 내연 : 몸이 납작하고, 두 손과 두 발은 네모 귀퉁이에 달려있는 등장인물
- 외연 : 정원사, 병사, 신하, 왕자와 공주 등..

<br/>

<br/>

### 타입은 개념이다

개념이라는 단어 자체는 꽤나 익숙할 것이다. 그러나 컴퓨터 공학자들은 타입이라는 용어를 가져와 개념을 좀 더 세련되게 표현하였다.

> "타입은 개념과 동일하다. 따라서 타입이란 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 의미한다. 어떤 객체에 타입을 적용할 수 있을 때 그 객체를 타입의 인스턴스라고 한다. 타입의 인스턴스는 타입을 구성하는 외연인 객체 집합의 일원이 된다."
>
> (P. 89)

