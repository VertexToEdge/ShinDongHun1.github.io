---
title:  "트랜잭션과 ACID"
excerpt: "트랜잭션과 트랜잭션의 특징 정리"
date:   2021-10-21 09:50:00 
header:
  teaser: /assets/images/spring.png

categories: rdb
tags:
  - DB
  - RDB
  - 트랜잭션
  - ACID
last_modified_at: 2021-10-21T09:50:00



---

<br/>

## 💡 트랜잭션

##### 트랜잭션이란 여러 작업들을 하나로 묶은 단위이다. 이때 하나로 묶인 작업들은 모두 실행되거나, 혹은 모두 실행되지 않는다.

##### (어떤 작업은 실행되고, 어떤 작업은 실행되지 않는 경우가 없다) 

##### (All or Nothing)

<br/>

#### 🔍트랙잭션이 필요한 이유

##### 은행에서 돈을 보내기 위해서 A은행에서 출금한 후, B 은행으로 송금한다고 가정해보자.

1. #####  A은행에서 돈을 출금했다.

2. #####  B은행으로 돈을 송금하려 하는 순간, 시스템이 멈춰버렸다.

##### 위와 같은 상황이라면, 돈은 출금되었지만, 송금되지 않고 그대로 돈이 증발해 버린 상황이 발생한 것이다.

##### 트랜잭션을 사용하면 이런 상황이 이러나지 않도록 보장할 수 있다.

<br/>

<br/>

## 💡 ACDI - 트랜잭션의 특징

##### 데이터의 유효성을 보장하기 위한, 트랜잭션의 특징들의 앞글자를 따서 만든 단어이다.

<br/>

#### ⚙ Atomicity (원자성)

##### 트랜잭션과 관련된 작업들이 부분적으로 실행되다가 중단되지 않는 것을 보장하는 특징이다.

##### 쉽게 말하면 모든 작업이 반영되거나, 모두 롤백되는 특성이다

##### 아까의 은행 예제에서처럼, 돈이 출금되는 작업은 실행되고, 송금되는 과정에서 시스템이 멈춰 실패해서는 안된다.

##### 원자성을 이와 같은 일을 방지해준다.

<br/>

#### ⚙ Consistency (일관성)

##### 트랜잭션이 실행을 성공적으로 완료하면, 언제나 일관성 있는 데이터베이스 상태로 유지하는 것을 의미한다.

##### 예를 들자면, 무결정 제약조건이 "돈을 송금할 때에는 잔고가 0보다 커야한다" 라면 , 이를 위반하는 트랜잭션은 중단된다.

##### 또다른 예시로는 숫자를 저장하는 컬럼에 문자를 저장하는 행위 등을 방지해준다

<br/>

#### ⚙ Isolation (고립성)

##### 트랜잭션을 수행 시 다른 트랜잭션의 연산 작업이 끼어들지 못하도록 보장하는 것을 의미한다. 

##### 이것은 트랜잭션 밖에 있는 어떤 연산도 중간 단계의 데이터를 볼 수 없음을 의미한다.

<br/>

#### ⚙ Durability (지속성)

##### 성공적으로 수행된 트랜잭션은 영원히 반영되어야 한다.

##### 즉 한번 커밋된 트랜젝션의 내용은 영원히 적용된다는 의미이다.

<br/>

<br/>

### 📔 Reference

[https://bactoria.tistory.com/entry/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-4%EA%B0%80%EC%A7%80-%ED%8A%B9%EC%A7%95-ACID](https://bactoria.tistory.com/entry/%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-4%EA%B0%80%EC%A7%80-%ED%8A%B9%EC%A7%95-ACID)

[https://ko.wikipedia.org/wiki/ACID](https://ko.wikipedia.org/wiki/ACID)

[https://heni.tistory.com/2](https://heni.tistory.com/2)

[https://chrisjune-13837.medium.com/db-transaction-%EA%B3%BC-acid%EB%9E%80-45a785403f9e](https://chrisjune-13837.medium.com/db-transaction-%EA%B3%BC-acid%EB%9E%80-45a785403f9e)